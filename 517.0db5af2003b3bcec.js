"use strict";(self.webpackChunkmyschool=self.webpackChunkmyschool||[]).push([[517],{8517:(_,d,a)=>{a.r(d),a.d(d,{UserModule:()=>N});var o=a(177),r=a(9555),e=a(3953),p=a(1667),u=a(7887),f=a(1195),m=a(2616),v=a(1682);function g(i,l){if(1&i&&(e.j41(0,"a",4),e.nrm(1,"i"),e.EFF(2),e.nI1(3,"titlecase"),e.k0s()),2&i){const t=e.XpG().$implicit;e.R7$(),e.HbH(t.icon),e.R7$(),e.SpI(" ",e.bMT(3,4,t.title),"")}}function b(i,l){if(1&i&&(e.j41(0,"a",5),e.nrm(1,"i"),e.EFF(2),e.nI1(3,"titlecase"),e.k0s()),2&i){const t=e.XpG().$implicit;e.Y8G("routerLink",t.url),e.R7$(),e.HbH(t.icon),e.R7$(),e.SpI(" ",e.bMT(3,5,t.title),"")}}function $(i,l){if(1&i&&(e.j41(0,"a",5),e.nrm(1,"i"),e.EFF(2),e.nI1(3,"titlecase"),e.k0s()),2&i){const t=e.XpG().$implicit;e.Y8G("routerLink",t.url),e.R7$(),e.HbH(t.icon),e.R7$(),e.SpI(" ",e.bMT(3,5,t.title),"")}}function C(i,l){if(1&i&&(e.j41(0,"a",4),e.nrm(1,"i"),e.EFF(2),e.nI1(3,"titlecase"),e.k0s()),2&i){const t=e.XpG().$implicit;e.R7$(),e.HbH(t.icon),e.R7$(),e.SpI(" ",e.bMT(3,4,t.title),"")}}function S(i,l){if(1&i){const t=e.RV6();e.j41(0,"li",10),e.bIt("click",function(){const n=e.eBV(t).$implicit,c=e.XpG(3);return e.Njj(c.sidebarActive(n))}),e.DNE(1,$,4,7,"a",5)(2,C,4,6,"a",4),e.nrm(3,"hr"),e.k0s()}if(2&i){const t=l.$implicit;e.R7$(),e.vxM(t.disable?2:1)}}function M(i,l){if(1&i&&(e.j41(0,"ul",8),e.DNE(1,S,4,1,"li",9),e.k0s()),2&i){const t=e.XpG().$implicit;e.R7$(),e.Y8G("ngForOf",t.child)}}function P(i,l){if(1&i){const t=e.RV6();e.j41(0,"li",3),e.bIt("click",function(){const n=e.eBV(t).$implicit,c=e.XpG();return e.Njj(c.sidebarActive(n))}),e.DNE(1,g,4,6,"a",4)(2,b,4,7,"a",5),e.nrm(3,"hr",6),e.DNE(4,M,2,1,"ul",7),e.k0s()}if(2&i){const t=l.$implicit;e.Y8G("ngClass",t.active?"active":""),e.R7$(),e.vxM(t.disable?1:2),e.R7$(2),e.Y8G("ngClass",t.child?"haschild":""),e.R7$(),e.Y8G("ngIf",t.child)}}let x=(()=>{class i{constructor(t){this._appSever=t,this.navigation=[]}sidebarActive(t){this.navigation.map(s=>{s.active=!1}),t.active=!0}static#e=this.\u0275fac=function(s){return new(s||i)(e.rXU(p.u))};static#t=this.\u0275cmp=e.VBU({type:i,selectors:[["app-sidebar"]],inputs:{navigation:"navigation"},decls:3,vars:1,consts:[[1,"sidebar"],[1,"nav-list"],["class","nav-item",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"nav-item",3,"click","ngClass"],[1,"disabled"],[3,"routerLink"],[3,"ngClass"],["class","child-link nav-list",4,"ngIf"],[1,"child-link","nav-list"],["class","nav-item",3,"click",4,"ngFor","ngForOf"],[1,"nav-item",3,"click"]],template:function(s,n){1&s&&(e.j41(0,"nav",0)(1,"ul",1),e.DNE(2,P,5,4,"li",2),e.k0s()()),2&s&&(e.R7$(2),e.Y8G("ngForOf",n.navigation))},dependencies:[o.YU,o.Sq,o.bT,r.Wk,o.PV],styles:['.sidebar[_ngcontent-%COMP%]{padding-top:40px}.sidebar[_ngcontent-%COMP%]   .nav-list[_ngcontent-%COMP%]{list-style:none;margin:0;padding-left:0;width:100%}.sidebar[_ngcontent-%COMP%]   .nav-list[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{margin:0;width:100%}.sidebar[_ngcontent-%COMP%]   .nav-list[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{padding:12px 15px;width:100%;display:flex;align-items:center;font-size:18px;color:#444;position:relative}.sidebar[_ngcontent-%COMP%]   .nav-list[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:none;background-color:#444;color:#fff}.sidebar[_ngcontent-%COMP%]   .nav-list[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   a.disabled[_ngcontent-%COMP%]{opacity:.7}.sidebar[_ngcontent-%COMP%]   .nav-list[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:12px}.sidebar[_ngcontent-%COMP%]   .nav-list[_ngcontent-%COMP%]   .nav-item.active[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{background-color:#444;color:#fff}.sidebar[_ngcontent-%COMP%]   .nav-list[_ngcontent-%COMP%]   .nav-item.active[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:after{content:"";width:5px;right:0;background-color:#6d6d6d;font-size:18px;top:0;height:100%;position:absolute}.sidebar[_ngcontent-%COMP%]   .nav-list[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]{padding-left:15px;background-color:#f1f1f1}']})}return i})();var O=a(7076),h=a(1579);const y=()=>({height:"6px"});function I(i,l){1&i&&e.nrm(0,"i",3)}function R(i,l){1&i&&e.nrm(0,"i",4)}function T(i,l){1&i&&e.nrm(0,"p-progressBar",11),2&i&&e.Aen(e.lJ4(2,y))}function A(i,l){if(1&i){const t=e.RV6();e.j41(0,"section"),e.nrm(1,"app-inner-header",1),e.j41(2,"button",2),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.isSidebarOpen=!n.isSidebarOpen)}),e.DNE(3,I,1,0,"i",3)(4,R,1,0,"i",4),e.k0s(),e.DNE(5,T,1,3,"p-progressBar",5),e.j41(6,"div",6)(7,"div",7),e.nrm(8,"app-sidebar",8),e.k0s(),e.j41(9,"div",9)(10,"section",10),e.nrm(11,"router-outlet"),e.k0s()()()()}if(2&i){const t=e.XpG();e.R7$(),e.Y8G("userData",t.user)("schoolData",t.schoolData),e.R7$(2),e.vxM(t.isSidebarOpen?3:4),e.R7$(2),e.Y8G("ngIf",t.isloader),e.R7$(),e.Y8G("ngClass",t.isSidebarOpen?"sidebar-open":"sidebar-close"),e.R7$(2),e.Y8G("navigation",t.navlist),e.R7$(),e.Y8G("ngClass",t.isSidebarOpen?"app-open":"app-close")}}const G=[{path:"",component:(()=>{class i{constructor(t,s,n,c,j,k){this._router=t,this._appService=s,this._store=n,this._userServices=c,this._sharedAPI=j,this.cdr=k,this.isSidebarOpen=!0,this.breadcrumb=[{title:"Home",url:"",icon:"home",active:!1},{title:"Profile",url:"profile",icon:"user",active:!0}],this.isloader=!1,this.type=sessionStorage.getItem("type")||"",this.id=sessionStorage.getItem("uid"),this.navlist=[],this.uid=sessionStorage.getItem("uid")||"",this.school_id="",this.studentNavList=[{active:!1,disable:!1,title:"Fee Report",url:`student/${this.id}/stufee`,icon:"pi pi-calendar"},{active:!1,disable:!1,title:"Event List",url:`student/${this.id}/events`,icon:"pi pi-calendar"},{active:!1,disable:!0,title:"library",url:`student/${this.id}/library`,icon:"pi pi-book"},{active:!1,disable:!1,title:"Time table",url:`student/${this.id}/time-table`,icon:"pi pi-megaphone"},{active:!1,disable:!0,title:"Request & Support",url:`student/${this.id}/support`,icon:"pi pi-question-circle"},{active:!1,disable:!1,title:"Leave management",url:`student/${this.id}/lms`,icon:"pi pi-calendar"},{active:!0,disable:!1,title:"profile",url:`student/${this.id}/profile`,icon:"pi pi-user"},{active:!1,disable:!1,title:"logout",url:"/",icon:"pi pi-power-off"}],this.parentNavList=[{active:!0,disable:!1,title:"profile",url:`parent/${this.id}/profile`,icon:"pi pi-user"},{active:!1,disable:!1,title:"fee Slip",url:`parent/${this.id}/fee`,icon:"pi pi-file-word"},{active:!1,disable:!1,title:"event list",url:`parent/${this.id}/event`,icon:"pi pi-megaphone"},{active:!1,disable:!1,title:"Time table",url:`parent/${this.id}/time-table`,icon:"pi pi-megaphone"},{active:!1,disable:!1,title:"Results",url:`parent/${this.id}/result`,icon:"pi pi-file-excel"},{active:!1,disable:!1,title:"logout",url:"/",icon:"pi pi-power-off"}],this.teacherNavList=[{active:!1,disable:!1,title:"Student Addmission",url:`teacher/${this.id}/students`,icon:"pi pi-user"},{active:!1,disable:!0,title:"Result manegement",url:`teacher/${this.id}/results`,icon:"pi pi-file-excel"},{active:!1,disable:!1,title:"Attendence sheet",url:`teacher/${this.id}/attendence`,icon:"pi pi-id-card"},{active:!1,disable:!1,title:"Timetable Manegement",url:`teacher/${this.id}/time-table`,icon:"pi pi-calendar-times"},{active:!1,disable:!1,title:"Event manegement",url:`teacher/${this.id}/events`,icon:"pi pi-megaphone"},{active:!1,disable:!1,title:"Leave manegement",url:`teacher/${this.id}/leave-list`,icon:"pi pi-file-excel"},{active:!1,disable:!0,title:"Library manegement",url:`teacher/${this.id}/library`,icon:"pi pi-book"},{active:!1,disable:!1,title:"profile",url:`teacher/${this.id}/profile`,icon:"pi pi-user"},{active:!1,disable:!1,title:"logout",url:"/",icon:"pi pi-power-off"}],this.staffNavList=[{active:!0,disable:!1,title:"Dashboard",url:`teacher/${this.id}/dashboard`,icon:"pi pi-home"},{active:!1,disable:!1,title:"Student Addmission",url:`teacher/${this.id}/students`,icon:"pi pi-user"},{active:!1,disable:!1,title:"Attendence sheet",url:`teacher/${this.id}/attendence`,icon:"pi pi-id-card"},{active:!1,disable:!1,title:"Timetable Manegement",url:`teacher/${this.id}/time-table`,icon:"pi pi-calendar-times"},{active:!1,disable:!1,title:"Leave manegement",url:`teacher/${this.id}/leave-list`,icon:"pi pi-file-excel"},{active:!1,disable:!0,title:"result manegement",url:`teacher/${this.id}/results`,icon:"pi pi-file-excel"},{active:!1,disable:!1,title:"event manegement",url:`teacher/${this.id}/events`,icon:"pi pi-megaphone"},{active:!1,disable:!1,title:"Parent manegement",url:`teacher/${this.id}/parents`,icon:"pi pi-users"},{active:!1,disable:!0,title:"library manegement",url:`teacher/${this.id}/library`,icon:"pi pi-book"},{active:!1,disable:!1,title:"Report System",url:`teacher/${this.id}/report`,icon:"pi pi-file-word"},{active:!1,disable:!1,title:"Student Fee List",url:`teacher/${this.id}/stufee`,icon:"pi pi-file-word"},{active:!1,disable:!1,title:"Fee Structure",url:`teacher/${this.id}/fees_detils`,icon:"pi pi-dollar"},{active:!1,disable:!1,title:"School Management",url:`teacher/${this.id}/school-manage`,icon:" fa-solid fa-square-poll-vertical"},{active:!1,disable:!1,title:"profile",url:`teacher/${this.id}/profile`,icon:"pi pi-user"},{active:!1,disable:!1,title:"logout",url:"/",icon:"pi pi-power-off"}],this.schoolNavList=[{active:!0,disable:!1,title:"Dashhboard",url:`school/${this.id}/dashboard`,icon:"pi pi-home"},{active:!1,disable:!1,title:"School Data setting",url:`school/${this.id}/settings`,icon:"pi pi-cog"},{active:!1,disable:!1,title:"Staff Management",url:`school/${this.id}/teachers`,icon:"pi pi-user-edit"},{active:!1,disable:!1,title:"Expense Management",url:`school/${this.id}/expense`,icon:"pi pi-dollar"},{active:!1,title:"Profile",url:`school/${this.id}/profile`,icon:" fa-solid fa-square-poll-vertical"},{active:!1,title:"logout",url:"/",icon:" fa-solid fa-power-off"}],this.type$=this._appService.type$,this.setSidenavbar(this.type),this._appService.loader$.subscribe(L=>{this.isloader=L,this.cdr.detectChanges()})}ngOnInit(){this._userServices.getUserlog(this.id).subscribe(t=>{switch(this._appService.type$.next(t.results[0].type),t.results[0].type){case"student":this._sharedAPI.getStudentByid(this.id).subscribe(s=>{this._appService.persona$.next(s.results[0].persona),this.persona=s.results[0].persona});break;case"teacher":this._sharedAPI.getTeacherByid(this.id).subscribe(s=>{this._appService.persona$.next(s.results[0].persona),this.persona=s.results[0].persona,1==this.persona&&(this.navlist=this.staffNavList)});break;case"parent":this._sharedAPI.getParentByid(this.id).subscribe(s=>{this._appService.persona$.next(s.results[0].persona),this.persona=s.results[0].persona});break;case"school":this._sharedAPI.getSchoolByUserid(this.id).subscribe(s=>{this._appService.persona$.next(s.results[0].persona),this.persona=s.results[0].persona});break;case"admin":this.persona=2,this._appService.persona$.next(2);break;default:this.persona=0,this._appService.persona$.next(0)}}),this.loaddata()}setSidenavbar(t){switch(t){case"student":this.navlist=this.studentNavList;break;case"teacher":this.navlist=this.teacherNavList;break;case"parent":this.navlist=this.parentNavList;break;case"school":case"admin":this.navlist=this.schoolNavList;break;default:this.navlist=[]}}loaddata(){this._appService.loader$.next(!0),this.type$.subscribe(t=>{this.getHeaderData(t),this._appService.loader$.next(!0)})}changeAcademicYear(t){sessionStorage.setItem("finyear",t.target.value),window.location.reload()}getHeaderData(t){"school"==t?this._sharedAPI.getSchoolByUserid(this.uid).subscribe(s=>{this.schoolData=s.results[0],sessionStorage.setItem("school_id",this.schoolData.id),this.user=s.results[0]}):this.uid&&t&&this._sharedAPI.getData(this.uid,t).subscribe(s=>{this.user=s.results[0],this._appService.persona$.next(this.user.persona),sessionStorage.setItem("school_id",this.user.school_id),this.school_id=this.user.school_id,this._sharedAPI.getSchool(this.user.school_id).subscribe(n=>{this.schoolData=n.results[0]})})}ngAfterViewInit(){this.cdr.detectChanges()}static#e=this.\u0275fac=function(s){return new(s||i)(e.rXU(r.nX),e.rXU(p.u),e.rXU(u.il),e.rXU(f.F),e.rXU(m.d),e.rXU(e.gRc))};static#t=this.\u0275cmp=e.VBU({type:i,selectors:[["app-user"]],decls:2,vars:1,consts:[[4,"ngIf"],[3,"userData","schoolData"],[1,"sidebar-toggle",3,"click"],[1,"pi","pi-angle-left"],[1,"pi","pi-angle-right"],["mode","indeterminate",3,"style",4,"ngIf"],[1,"inner-container",3,"ngClass"],[1,"sidebar",2,"box-shadow","2px 2px 7px #d9dce1"],[3,"navigation"],[1,"myschool-container",3,"ngClass"],[1,"inner-pages"],["mode","indeterminate"]],template:function(s,n){1&s&&(e.DNE(0,A,12,7,"section",0),e.nrm(1,"app-copyright")),2&s&&e.Y8G("ngIf",n.schoolData)},dependencies:[o.YU,o.bT,r.n3,v.B,x,O.b,h.z],encapsulation:2})}return i})(),children:[{path:"student/:id",loadChildren:()=>Promise.all([a.e(686),a.e(258),a.e(449)]).then(a.bind(a,449)).then(i=>i.StudentModule)},{path:"teacher/:id",loadChildren:()=>Promise.all([a.e(686),a.e(815),a.e(258),a.e(777)]).then(a.bind(a,8777)).then(i=>i.TutorModule)},{path:"parent/:id",loadChildren:()=>Promise.all([a.e(686),a.e(62)]).then(a.bind(a,6062)).then(i=>i.ParentModule)},{path:"school/:id",loadChildren:()=>Promise.all([a.e(815),a.e(501)]).then(a.bind(a,9501)).then(i=>i.SchoolModule)},{path:"admin/:id",loadChildren:()=>a.e(45).then(a.bind(a,9045)).then(i=>i.AdminModule)}]}];let D=(()=>{class i{static#e=this.\u0275fac=function(s){return new(s||i)};static#t=this.\u0275mod=e.$C({type:i});static#i=this.\u0275inj=e.G2t({imports:[r.iI.forChild(G),r.iI]})}return i})();var F=a(6306);let N=(()=>{class i{static#e=this.\u0275fac=function(s){return new(s||i)};static#t=this.\u0275mod=e.$C({type:i});static#i=this.\u0275inj=e.G2t({imports:[o.MD,D,r.iI,F.G,h.d]})}return i})()}}]);
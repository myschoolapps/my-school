"use strict";(self.webpackChunkmyschool=self.webpackChunkmyschool||[]).push([[777],{8777:(Yn,Y,d)=>{d.r(Y),d.d(Y,{TutorModule:()=>Nn});var c=d(177),j=d(9555),e=d(3953),R=d(3578),y=d(1667),w=d(4564);function ee(n,s){if(1&n&&e.nrm(0,"app-school-dashboard",1),2&n){const t=e.XpG();e.Y8G("std_info",t.std_info)}}let A=(()=>{class n{constructor(t,o){this._tutorAPI=t,this._appServices=o,this.school_id=sessionStorage.getItem("school_id")||"",this.uid=sessionStorage.getItem("uid")||"",this.student_paload={school_id:this.school_id,uid:this.uid},this._tutorAPI.getTutorData().subscribe(i=>{this.data$=i[0]})}ngOnInit(){this._appServices.loader$.next(!0),this._tutorAPI.getStudentInfo(this.student_paload).subscribe(t=>{this.std_info=t,this._appServices.loader$.next(!1)})}static#e=this.\u0275fac=function(o){return new(o||n)(e.rXU(R.M),e.rXU(y.u))};static#t=this.\u0275cmp=e.VBU({type:n,selectors:[["app-dashboard"]],decls:1,vars:1,consts:[[3,"std_info",4,"ngIf"],[3,"std_info"]],template:function(o,i){1&o&&e.DNE(0,ee,1,1,"app-school-dashboard",0),2&o&&e.Y8G("ngIf",i.std_info)},dependencies:[c.bT,w.a]})}return n})();var g=d(2100),E=d(467),a=d(9417),m=d(1141),X=d(6274),b=d(2242),h=d(8833),L=d(9114),f=d(1593),T=d(612),G=d(1283),B=d(563),u=d(5779),x=d(1880);const te=(n,s,t)=>({"p-togglebutton p-button p-component":!0,"p-button-icon-only":n,"p-highlight":s,"p-disabled":t}),ne=(n,s)=>({"p-button-icon":!0,"p-button-icon-left":n,"p-button-icon-right":s}),oe=n=>({$implicit:n});function ie(n,s){if(1&n&&e.nrm(0,"span",4),2&n){const t=e.XpG(2);e.HbH(t.checked?t.onIcon:t.offIcon),e.Y8G("ngClass",e.l_i(4,ne,"left"===t.iconPos,"right"===t.iconPos)),e.BMQ("data-pc-section","icon")}}function se(n,s){if(1&n&&e.DNE(0,ie,1,7,"span",3),2&n){const t=e.XpG();e.Y8G("ngIf",t.onIcon||t.offIcon)}}function ae(n,s){1&n&&e.eu8(0)}function re(n,s){if(1&n&&e.DNE(0,ae,1,0,"ng-container",5),2&n){const t=e.XpG();e.Y8G("ngTemplateOutlet",t.iconTemplate)("ngTemplateOutletContext",e.eq3(2,oe,t.checked))}}function le(n,s){if(1&n&&(e.j41(0,"span",6),e.EFF(1),e.k0s()),2&n){const t=e.XpG();e.BMQ("data-pc-section","label"),e.R7$(),e.JRh(t.checked?t.hasOnLabel?t.onLabel:"":t.hasOffLabel?t.offLabel:"")}}const ce={provide:a.kq,useExisting:(0,e.Rfq)(()=>U),multi:!0};let U=(()=>{class n{cd;onLabel;offLabel;onIcon;offIcon;ariaLabel;ariaLabelledBy;disabled;style;styleClass;inputId;tabindex=0;iconPos="left";autofocus;onChange=new e.bkB;templates;iconTemplate;checked=!1;onModelChange=()=>{};onModelTouched=()=>{};constructor(t){this.cd=t}ngAfterContentInit(){this.templates.forEach(t=>{t.getType(),this.iconTemplate=t.template})}toggle(t){if(this.disabled)return t.preventDefault(),void t.stopPropagation();this.checked=!this.checked,this.onModelChange(this.checked),this.onModelTouched(),this.onChange.emit({originalEvent:t,checked:this.checked}),this.cd.markForCheck()}onKeyDown(t){switch(t.code){case"Enter":case"Space":this.toggle(t),t.preventDefault()}}onBlur(){this.onModelTouched()}writeValue(t){this.checked=t,this.cd.markForCheck()}registerOnChange(t){this.onModelChange=t}registerOnTouched(t){this.onModelTouched=t}setDisabledState(t){this.disabled=t,this.cd.markForCheck()}get hasOnLabel(){return this.onLabel&&this.onLabel.length>0}get hasOffLabel(){return this.offLabel&&this.offLabel.length>0}static \u0275fac=function(o){return new(o||n)(e.rXU(e.gRc))};static \u0275cmp=e.VBU({type:n,selectors:[["p-toggleButton"]],contentQueries:function(o,i,r){if(1&o&&e.wni(r,u.Ei,4),2&o){let l;e.mGM(l=e.lsd())&&(i.templates=l)}},hostAttrs:[1,"p-element"],inputs:{onLabel:"onLabel",offLabel:"offLabel",onIcon:"onIcon",offIcon:"offIcon",ariaLabel:"ariaLabel",ariaLabelledBy:"ariaLabelledBy",disabled:[2,"disabled","disabled",e.L39],style:"style",styleClass:"styleClass",inputId:"inputId",tabindex:[2,"tabindex","tabindex",e.Udg],iconPos:"iconPos",autofocus:[2,"autofocus","autofocus",e.L39]},outputs:{onChange:"onChange"},features:[e.Jv_([ce]),e.GFd],decls:4,vars:17,consts:[["role","switch","pRipple","","pAutoFocus","",3,"click","keydown","ngClass","ngStyle","autofocus"],[3,"class","ngClass"],["class","p-button-label",4,"ngIf"],[3,"class","ngClass",4,"ngIf"],[3,"ngClass"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"p-button-label"]],template:function(o,i){1&o&&(e.j41(0,"div",0),e.bIt("click",function(l){return i.toggle(l)})("keydown",function(l){return i.onKeyDown(l)}),e.DNE(1,se,1,1,"span",1)(2,re,1,4,"ng-container")(3,le,2,2,"span",2),e.k0s()),2&o&&(e.HbH(i.styleClass),e.Y8G("ngClass",e.sMw(13,te,i.onIcon&&i.offIcon&&!i.hasOnLabel&&!i.hasOffLabel,i.checked,i.disabled))("ngStyle",i.style)("autofocus",i.autofocus),e.BMQ("tabindex",i.disabled?null:i.tabindex)("aria-checked",i.checked)("aria-labelledby",i.ariaLabelledBy)("aria-label",i.ariaLabel)("data-pc-name","togglebutton")("data-pc-section","root"),e.R7$(),e.vxM(i.iconTemplate?2:1),e.R7$(2),e.Y8G("ngIf",i.onLabel||i.offLabel))},dependencies:[c.YU,c.bT,c.T3,c.B3,B.n,x.q],styles:['@layer primeng{.p-button[_ngcontent-%COMP%]{margin:0;display:inline-flex;cursor:pointer;-webkit-user-select:none;user-select:none;align-items:center;vertical-align:bottom;text-align:center;overflow:hidden;position:relative}.p-button-label[_ngcontent-%COMP%]{flex:1 1 auto}.p-button-icon-right[_ngcontent-%COMP%]{order:1}.p-button[_ngcontent-%COMP%]:disabled{cursor:default;pointer-events:none}.p-button-icon-only[_ngcontent-%COMP%]{justify-content:center}.p-button-icon-only[_ngcontent-%COMP%]:after{content:"p";visibility:hidden;clip:rect(0 0 0 0);width:0}.p-button-vertical[_ngcontent-%COMP%]{flex-direction:column}.p-button-icon-bottom[_ngcontent-%COMP%]{order:2}.p-button-group[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]{margin:0}.p-button-group[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]:focus, .p-button-group[_ngcontent-%COMP%]   p-button[_ngcontent-%COMP%]:focus   .p-button[_ngcontent-%COMP%], .p-buttonset[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]:focus, .p-buttonset[_ngcontent-%COMP%]   p-button[_ngcontent-%COMP%]:focus   .p-button[_ngcontent-%COMP%]{position:relative;z-index:1}.p-button-group[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]:not(:last-child), .p-button-group[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]:not(:last-child):hover, .p-button-group[_ngcontent-%COMP%]   p-button[_ngcontent-%COMP%]:not(:last-child)   .p-button[_ngcontent-%COMP%], .p-button-group[_ngcontent-%COMP%]   p-button[_ngcontent-%COMP%]:not(:last-child)   .p-button[_ngcontent-%COMP%]:hover, .p-buttonset[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]:not(:last-child), .p-buttonset[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]:not(:last-child):hover, .p-buttonset[_ngcontent-%COMP%]   p-button[_ngcontent-%COMP%]:not(:last-child)   .p-button[_ngcontent-%COMP%], .p-buttonset[_ngcontent-%COMP%]   p-button[_ngcontent-%COMP%]:not(:last-child)   .p-button[_ngcontent-%COMP%]:hover{border-right:0 none}.p-button-group[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]:not(:first-of-type):not(:last-of-type), .p-button-group[_ngcontent-%COMP%]   p-button[_ngcontent-%COMP%]:not(:first-of-type):not(:last-of-type)   .p-button[_ngcontent-%COMP%], .p-buttonset[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]:not(:first-of-type):not(:last-of-type), .p-buttonset[_ngcontent-%COMP%]   p-button[_ngcontent-%COMP%]:not(:first-of-type):not(:last-of-type)   .p-button[_ngcontent-%COMP%]{border-radius:0}.p-button-group[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]:first-of-type:not(:only-of-type), .p-button-group[_ngcontent-%COMP%]   p-button[_ngcontent-%COMP%]:first-of-type:not(:only-of-type)   .p-button[_ngcontent-%COMP%], .p-buttonset[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]:first-of-type:not(:only-of-type), .p-buttonset[_ngcontent-%COMP%]   p-button[_ngcontent-%COMP%]:first-of-type:not(:only-of-type)   .p-button[_ngcontent-%COMP%]{border-top-right-radius:0;border-bottom-right-radius:0}.p-button-group[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]:last-of-type:not(:only-of-type), .p-button-group[_ngcontent-%COMP%]   p-button[_ngcontent-%COMP%]:last-of-type:not(:only-of-type)   .p-button[_ngcontent-%COMP%], .p-buttonset[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]:last-of-type:not(:only-of-type), .p-buttonset[_ngcontent-%COMP%]   p-button[_ngcontent-%COMP%]:last-of-type:not(:only-of-type)   .p-button[_ngcontent-%COMP%]{border-top-left-radius:0;border-bottom-left-radius:0}p-button[iconpos=right][_ngcontent-%COMP%]   spinnericon[_ngcontent-%COMP%]{order:1}}'],changeDetection:0})}return n})(),de=(()=>{class n{static \u0275fac=function(o){return new(o||n)};static \u0275mod=e.$C({type:n});static \u0275inj=e.G2t({imports:[c.MD,B.Z,u.Gg,x.u,u.Gg]})}return n})();var v=d(2616),k=d(1195);function pe(n,s){if(1&n&&(e.j41(0,"span",13),e.EFF(1),e.k0s()),2&n){let t;const o=e.XpG();e.R7$(),e.Lme("",null==(t=o.profileFrm.get("fname"))?null:t.value," ",null==(t=o.profileFrm.get("lname"))?null:t.value,"")}}function ue(n,s){if(1&n&&(e.j41(0,"span",73),e.EFF(1),e.k0s()),2&n){let t;const o=e.XpG();e.R7$(),e.JRh(null==(t=o.profileFrm.get("email"))?null:t.value)}}function me(n,s){1&n&&(e.j41(0,"div",20)(1,"div",50)(2,"p-floatLabel"),e.nrm(3,"input",74),e.j41(4,"label",75),e.EFF(5,"Username"),e.k0s()()(),e.j41(6,"div",50)(7,"p-floatLabel"),e.nrm(8,"input",76),e.j41(9,"label",77),e.EFF(10,"Password"),e.k0s()()()())}function _e(n,s){if(1&n&&(e.j41(0,"div",21)(1,"p-floatLabel"),e.nrm(2,"p-dropdown",78),e.j41(3,"label",38),e.EFF(4,"Section"),e.k0s()()()),2&n){const t=e.XpG();e.R7$(2),e.Y8G("options",t.filterSectionList)}}function he(n,s){if(1&n){const t=e.RV6();e.j41(0,"p-button",79),e.bIt("click",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.updateProfileFn())}),e.k0s()}if(2&n){const t=e.XpG();e.Y8G("disabled",t.isSubmitDisabled)}}function fe(n,s){if(1&n){const t=e.RV6();e.j41(0,"p-button",80),e.bIt("click",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.createProfileFn())}),e.k0s()}if(2&n){const t=e.XpG();e.Y8G("disabled",t.isSubmitDisabled)}}let V=(()=>{class n{constructor(t,o,i,r,l,p,C){this._fb=t,this.config=o,this._ref=i,this._sharedAPI=r,this._pipe=l,this._userService=p,this._appAPI=C,this.DATE=new Date,this.type=sessionStorage.getItem("type")||"",this.school_id=sessionStorage.getItem("school_id")||"",this.coutryList=[{name:"India",code:"IND"},{name:"Nepal",code:"NPL"}],this.isSubmitDisabled=!1,this.dialogType="create",this.classList=[],this.sectionList=[],this.filterSectionList=[],this.BASE_URL=G.c.apiURL,this.fin_yearList=[],this.genderList=[{name:"Male",code:"male"},{name:"Female",code:"female"},{name:"Other",code:"other"}],this.loader$=this._appAPI.loader$,this.profileFrm=this._fb.group({active:1,username:["",a.k0.required],password:["",a.k0.required],address1:["",a.k0.required],address2:["",a.k0.required],city:["",a.k0.required],state:["",a.k0.required],class_id:["",a.k0.required],country:["",a.k0.required],email:["",a.k0.required],gender:["",a.k0.required],fname:["",a.k0.required],id:["",a.k0.required],dob:["",a.k0.required],doa:["",a.k0.required],father_name:["",a.k0.required],mother_name:["",a.k0.required],lname:["",a.k0.required],mname:["",a.k0.required],full_name:[""],parent_id:["",a.k0.required],persona:[0],phone:["",a.k0.required],school_id:["",a.k0.required],section_id:["",a.k0.required],fin_year:["",a.k0.required],uid:[""],profile_pic:["assets/images/491541-student-1728791592572.jpg"],doc1:[""],doc2:[""],certificate:[""]}),this.getClass(),this.getSection(),this.getFinYear()}ngOnInit(){this.profileFrm.get("school_id")?.disable(),this.config.data&&(console.log(this.config.data),this.data=this.config.data.result,this.dialogType=this.config.data.dialogType,this.data&&this.setfromValue(this.data))}ngAfterViewInit(){this.school_id&&this.profileFrm.controls.school_id.setValue(this.school_id)}setfromValue(t){this.profileFrm.setValue({active:1,address1:t.address1?t.address1:null,username:"",profile_pic:t.profile_pic?t.profile_pic:"",password:"",full_name:t.full_name,father_name:t.father_name,mother_name:t.mother_name,address2:t.address2,city:t.city,gender:t.gender,state:t.state,class_id:t.class_id?t.class_id:null,country:t.country,email:t.email,fname:t.fname,id:t.id,lname:t.lname,mname:t.mname,parent_id:t.parent_id?t.parent_id:null,persona:t.persona,phone:t.phone,school_id:t.school_id,section_id:t.section_id?t.section_id:null,fin_year:t.fin_year?t.fin_year:null,uid:t.uid,dob:t.dob?new Date(t.dob):"",doa:t.doa?new Date(t.doa):"",certificate:t.certificate?t.certificate:null,doc1:t.doc1?t.doc1:null,doc2:t.doc2?t.doc2:null})}createProfileFn(){this.profileFrm.get("dob")?.setValue(this._pipe.transform(this.profileFrm.get("dob")?.value,"yyyy-MM-dd")),this.profileFrm.get("doa")?.setValue(this._pipe.transform(this.profileFrm.get("doa")?.value,"yyyy-MM-dd")),this._ref.close(this.profileFrm.value)}updateProfileFn(){this.profileFrm.get("dob")?.setValue(this._pipe.transform(this.profileFrm.get("dob")?.value,"yyyy-MM-dd")),this.profileFrm.get("doa")?.setValue(this._pipe.transform(this.profileFrm.get("doa")?.value,"yyyy-MM-dd")),this._ref.close(this.profileFrm.value)}cancelProfileFn(){this._ref.close()}onUpload(t){let i=t.target.files?.[0];i&&this._sharedAPI.uploadPhoto(i,"student",this.data.uid).subscribe(l=>{if(l.result){let p=`${l.result.destination}/${l.result.filename}`;this.profileFrm.get("profile_pic")?.setValue(p)}})}getClass(){var t=this;return(0,E.A)(function*(){t._appAPI.loader$.next(!0),yield t._userService.getClassList(t.school_id).subscribe(o=>{t.classList=o.results,t._appAPI.loader$.next(!1)})})()}getFinYear(){var t=this;return(0,E.A)(function*(){yield t._userService.finYearsList(t.school_id).subscribe(o=>{t.fin_yearList=o.results})})()}getSection(){var t=this;return(0,E.A)(function*(){yield t._userService.sectionList(t.school_id).subscribe(o=>{t.sectionList=o.results,t.filterSectionList=o.results})})()}selectClass(t){let o;this.classList.filter(i=>{i.id===t.value&&(o=i)}),this.filterSectionList=this.sectionList.filter(i=>i.class_id==o.id)}static#e=this.\u0275fac=function(o){return new(o||n)(e.rXU(a.ok),e.rXU(g.sb),e.rXU(g.Pw),e.rXU(v.d),e.rXU(c.vh),e.rXU(k.F),e.rXU(y.u))};static#t=this.\u0275cmp=e.VBU({type:n,selectors:[["app-profile-dialog"]],standalone:!0,features:[e.Jv_([c.vh]),e.aNF],decls:170,vars:20,consts:[["fileUpload",""],[1,"profile"],[3,"formGroup"],[1,"container-fluid","rounded",3,"ngClass"],[1,"row"],[1,"col-md-12"],[1,"col-md-3","col-lg-2","border-right"],[1,"d-flex","flex-column","align-items-center","text-center","p-3","py-5"],["width","150px",1,"rounded-circle","mt-5",3,"src"],["type","file","hidden","",3,"change"],["icon","pi pi-plus",1,"rounded-button",3,"click","disabled","rounded"],["class","font-weight-bold",4,"ngIf"],["class","text-black-50",4,"ngIf"],[1,"font-weight-bold"],["onLabel","Active","offLabel","Inactive","formControlName","active"],[1,"col-md-9","col-lg-10"],[1,"p-0"],[1,"col-12","title"],["class","row mt-2",4,"ngIf"],[1,"title"],[1,"row","mt-2"],[1,"col-md-4"],["pInputText","","id","fname","placeholder","First Name","formControlName","fname"],["for","fname"],["pInputText","","id","mname","placeholder","Middle Name","formControlName","mname"],["for","mname"],["pInputText","","id","lname","placeholder","Last Name","formControlName","lname"],["for","lname"],["id","dob","formControlName","dob","dateFormat","dd-mm-yy","placeholder","Date Of Birth",1,"full-width",3,"iconDisplay","showIcon"],["for","dob"],["id","gender","optionValue","code","optionLabel","name","formControlName","gender",3,"options"],["for","gender"],["id","doa","dateFormat","dd-mm-yy","formControlName","doa","placeholder","Date Of Addmission",1,"full-width",3,"iconDisplay","showIcon"],["for","doa"],["optionValue","id","optionLabel","name","formControlName","class_id","id","class",3,"onChange","options"],["for","class"],["class","col-md-4",4,"ngIf"],["optionValue","name","optionLabel","name","formControlName","fin_year",3,"options"],["for","section"],["pInputText","","id","parent_id","placeholder","parent","formControlName","parent_id"],["for","parent_id"],["pInputText","","id","school_id","placeholder","School Id","formControlName","school_id"],["for","school_id"],[1,"label"],[1,"d-flex"],["type","text","formControlName","certificate","hidden",""],["image","../../../assets/images/no-photo.png","styleClass","mr-2","size","large","shape","circle"],["mode","basic","chooseLabel","Choose","chooseIcon","pi pi-upload","name","demo[]","accept","image/*","maxFileSize","1000000"],["type","text","formControlName","doc1","hidden",""],["type","text","formControlName","doc2","hidden",""],[1,"col-md-6"],["pInputText","","id","phone","placeholder","Mobile No.","formControlName","phone"],["for","phone"],["pInputText","","id","email","placeholder","Email","formControlName","email"],["for","email"],["pInputText","","id","father_name","placeholder","Father name","formControlName","father_name"],["for","father_name"],["pInputText","","id","mother_name","placeholder","Mother name","formControlName","mother_name"],["for","mother_name"],["id","country","formControlName","country","placeholder","select Country","optionValue","name","optionLabel","name",3,"options"],["for","country"],["pInputText","","id","address1","placeholder","Address 1","formControlName","address1"],["for","address1"],["pInputText","","id","address2","placeholder","Address 2","formControlName","address2"],["for","address2"],["pInputText","","id","city","placeholder","City","formControlName","city"],["for","city"],["pInputText","","id","state","placeholder","State","formControlName","state"],["for","state"],[1,"col-sm-12","text-right"],["label","Cancel","severity","secondary",3,"click","disabled"],["label","Update","severity","info",3,"disabled","click",4,"ngIf"],["label","Create","severity","primary",3,"disabled","click",4,"ngIf"],[1,"text-black-50"],["pInputText","","id","username","placeholder","Username","formControlName","username"],["for","username"],["type","password","id","password","pInputText","","placeholder","Password","formControlName","password"],["for","password"],["id","section","optionValue","id","optionLabel","name","formControlName","section_id",3,"options"],["label","Update","severity","info",3,"click","disabled"],["label","Create","severity","primary",3,"click","disabled"]],template:function(o,i){if(1&o){const r=e.RV6();e.j41(0,"section",1)(1,"form",2)(2,"div",3)(3,"div",4),e.nrm(4,"div",5),e.j41(5,"div",6)(6,"div",7),e.nrm(7,"img",8),e.j41(8,"input",9,0),e.bIt("change",function(p){return e.eBV(r),e.Njj(i.onUpload(p))}),e.k0s(),e.j41(10,"p-button",10),e.bIt("click",function(){e.eBV(r);const p=e.sdS(9);return e.Njj(p.click())}),e.k0s(),e.DNE(11,pe,2,2,"span",11)(12,ue,2,1,"span",12),e.nrm(13,"span"),e.k0s(),e.nrm(14,"hr"),e.j41(15,"div",7)(16,"h1",13),e.EFF(17,"Active"),e.k0s(),e.nrm(18,"p-toggleButton",14),e.k0s()(),e.j41(19,"div",15)(20,"div",16)(21,"label",17),e.EFF(22,"Credential Info"),e.k0s(),e.nrm(23,"hr")(24,"br"),e.DNE(25,me,11,0,"div",18),e.nrm(26,"br"),e.j41(27,"label",19),e.EFF(28,"Basic Info"),e.k0s(),e.nrm(29,"hr")(30,"br"),e.j41(31,"div",20)(32,"div",21)(33,"p-floatLabel"),e.nrm(34,"input",22),e.j41(35,"label",23),e.EFF(36,"First Name"),e.k0s()()(),e.j41(37,"div",21)(38,"p-floatLabel"),e.nrm(39,"input",24),e.j41(40,"label",25),e.EFF(41,"Middle Name"),e.k0s()()(),e.j41(42,"div",21)(43,"p-floatLabel"),e.nrm(44,"input",26),e.j41(45,"label",27),e.EFF(46,"Last Name"),e.k0s()()(),e.j41(47,"div",21)(48,"p-floatLabel"),e.nrm(49,"p-calendar",28),e.j41(50,"label",29),e.EFF(51,"Date of Birth"),e.k0s()()(),e.j41(52,"div",21)(53,"p-floatLabel"),e.nrm(54,"p-dropdown",30),e.j41(55,"label",31),e.EFF(56,"Gender"),e.k0s()()(),e.j41(57,"div",21)(58,"p-floatLabel"),e.nrm(59,"p-calendar",32),e.j41(60,"label",33),e.EFF(61,"Date of Addmission"),e.k0s()()(),e.j41(62,"div",21)(63,"p-floatLabel")(64,"p-dropdown",34),e.bIt("onChange",function(p){return e.eBV(r),e.Njj(i.selectClass(p))}),e.k0s(),e.j41(65,"label",35),e.EFF(66,"Class"),e.k0s()()(),e.DNE(67,_e,5,1,"div",36),e.j41(68,"div",21)(69,"p-floatLabel"),e.nrm(70,"p-dropdown",37),e.j41(71,"label",38),e.EFF(72,"Fin year"),e.k0s()()(),e.j41(73,"div",21)(74,"p-floatLabel"),e.nrm(75,"input",39),e.j41(76,"label",40),e.EFF(77,"Parent Id"),e.k0s()()(),e.j41(78,"div",21)(79,"p-floatLabel"),e.nrm(80,"input",41),e.j41(81,"label",42),e.EFF(82,"School Id"),e.k0s()()(),e.j41(83,"div",21)(84,"small",43),e.EFF(85,"Transfer Certificate"),e.k0s(),e.j41(86,"div",44),e.nrm(87,"input",45)(88,"p-avatar",46),e.EFF(89,"\xa0 "),e.nrm(90,"p-fileUpload",47),e.k0s()(),e.j41(91,"div",21)(92,"small",43),e.EFF(93,"Document 1"),e.k0s(),e.j41(94,"div",44),e.nrm(95,"input",48)(96,"p-avatar",46),e.EFF(97,"\xa0 "),e.nrm(98,"p-fileUpload",47),e.k0s()(),e.j41(99,"div",21)(100,"small",43),e.EFF(101,"Document 2"),e.k0s(),e.j41(102,"div",44),e.nrm(103,"input",49)(104,"p-avatar",46),e.EFF(105,"\xa0 "),e.nrm(106,"p-fileUpload",47),e.k0s()()(),e.nrm(107,"br"),e.j41(108,"label",19),e.EFF(109,"Contact Info"),e.k0s(),e.nrm(110,"hr")(111,"br"),e.j41(112,"div",20)(113,"div",50)(114,"p-floatLabel"),e.nrm(115,"input",51),e.j41(116,"label",52),e.EFF(117,"Phone"),e.k0s()()(),e.j41(118,"div",50)(119,"p-floatLabel"),e.nrm(120,"input",53),e.j41(121,"label",54),e.EFF(122,"Email"),e.k0s()()(),e.j41(123,"div",50)(124,"p-floatLabel"),e.nrm(125,"input",55),e.j41(126,"label",56),e.EFF(127,"Father Name"),e.k0s()()(),e.j41(128,"div",50)(129,"p-floatLabel"),e.nrm(130,"input",57),e.j41(131,"label",58),e.EFF(132,"Mother Name"),e.k0s()()()(),e.nrm(133,"br"),e.j41(134,"label",19),e.EFF(135,"Address"),e.k0s(),e.nrm(136,"hr"),e.j41(137,"div",20)(138,"div",50)(139,"p-floatLabel"),e.nrm(140,"p-dropdown",59),e.j41(141,"label",60),e.EFF(142,"Country"),e.k0s()()(),e.j41(143,"div",50)(144,"p-floatLabel"),e.nrm(145,"input",61),e.j41(146,"label",62),e.EFF(147,"Address 1"),e.k0s()()(),e.j41(148,"div",50)(149,"p-floatLabel"),e.nrm(150,"input",63),e.j41(151,"label",64),e.EFF(152,"Address 2"),e.k0s()()(),e.j41(153,"div",50)(154,"p-floatLabel"),e.nrm(155,"input",65),e.j41(156,"label",66),e.EFF(157,"City"),e.k0s()()(),e.j41(158,"div",50)(159,"p-floatLabel"),e.nrm(160,"input",67),e.j41(161,"label",68),e.EFF(162,"State"),e.k0s()()()(),e.j41(163,"div",20)(164,"div",69)(165,"p-button",70),e.bIt("click",function(){return e.eBV(r),e.Njj(i.cancelProfileFn())}),e.k0s(),e.EFF(166,"\xa0 "),e.DNE(167,he,1,1,"p-button",71),e.EFF(168,"\xa0 "),e.DNE(169,fe,1,1,"p-button",72),e.k0s()()()()()()()()}if(2&o){let r,l,p,C;e.R7$(),e.Y8G("formGroup",i.profileFrm),e.R7$(),e.Y8G("ngClass",null!=(r=i.profileFrm.get("active"))&&r.value?"bg-white":"bg-danger"),e.R7$(5),e.Y8G("src",i.BASE_URL+"/"+(null==(l=i.profileFrm.get("profile_pic"))?null:l.value),e.B4B),e.R7$(3),e.Y8G("disabled","create"==i.dialogType)("rounded",!0),e.R7$(),e.Y8G("ngIf",i.data),e.R7$(),e.Y8G("ngIf",null==(p=i.profileFrm.get("email"))?null:p.value),e.R7$(13),e.Y8G("ngIf","create"===i.dialogType),e.R7$(24),e.Y8G("iconDisplay","input")("showIcon",!0),e.R7$(5),e.Y8G("options",i.genderList),e.R7$(5),e.Y8G("iconDisplay","input")("showIcon",!0),e.R7$(5),e.Y8G("options",i.classList),e.R7$(3),e.Y8G("ngIf",null==(C=i.profileFrm.get("class_id"))?null:C.value.length),e.R7$(3),e.Y8G("options",i.fin_yearList),e.R7$(70),e.Y8G("options",i.coutryList),e.R7$(25),e.Y8G("disabled",i.isSubmitDisabled),e.R7$(2),e.Y8G("ngIf","update"==i.dialogType),e.R7$(2),e.Y8G("ngIf","create"==i.dialogType)}},dependencies:[m.tm,m.$n,T.rO,T.Vv,de,U,h.kr,h.ms,L.m,L.e,f.f,f.V,a.X1,a.qT,a.me,a.BC,a.cb,a.j4,a.JD,b.u,b.S,c.MD,c.YU,c.bT,X.e,X.N],styles:[".rounded-button[_ngcontent-%COMP%]{margin-top:-26px;border-radius:50%;overflow:hidden}.title[_ngcontent-%COMP%]{font-weight:700}"]})}return n})();var D=d(8542),S=d(9998),_=d(5404),J=d(9170),ge=d(1208),I=d(2368);const be=()=>[5,10,25],Ce=()=>["id","name","section","email","class"],Fe=()=>({"min-width":"70rem"});function ve(n,s){if(1&n){const t=e.RV6();e.qex(0),e.nrm(1,"p-button",10),e.EFF(2,"\xa0 "),e.nrm(3,"p-button",11),e.EFF(4,"\xa0 "),e.nrm(5,"p-button",12),e.EFF(6,"\xa0 "),e.j41(7,"p-button",13),e.bIt("click",function(){e.eBV(t);const i=e.XpG(4);return e.Njj(i.createStudent())}),e.k0s(),e.bVm()}if(2&n){const t=s.ngIf,o=e.XpG(4);e.R7$(),e.Y8G("disabled",!o.selectedStudent.length&&0!=t),e.R7$(2),e.Y8G("disabled",!o.selectedStudent.length&&0!=t),e.R7$(2),e.Y8G("disabled",!o.selectedStudent.length&&0!=t),e.R7$(2),e.Y8G("disabled",0==t)}}function ye(n,s){if(1&n&&(e.qex(0),e.DNE(1,ve,8,4,"ng-container",9),e.nI1(2,"async"),e.bVm()),2&n){const t=e.XpG(3);e.R7$(),e.Y8G("ngIf",e.bMT(2,1,t.$persona))}}function ke(n,s){if(1&n&&(e.j41(0,"div",8),e.DNE(1,ye,3,3,"ng-container",9),e.k0s()),2&n){const t=s.ngIf;e.R7$(),e.Y8G("ngIf","teacher"==t)}}function Se(n,s){if(1&n){const t=e.RV6();e.j41(0,"div",24)(1,"form",25)(2,"p-iconField",26)(3,"input",27),e.bIt("input",function(){let i;e.eBV(t),e.XpG();const r=e.sdS(2),l=e.XpG(2);return e.Njj(r.filterGlobal(null==(i=l.filterForm.get("name"))?null:i.value,"contains"))}),e.k0s(),e.nrm(4,"p-inputIcon",28),e.k0s()()()}if(2&n){const t=e.XpG(3);e.R7$(),e.Y8G("formGroup",t.filterForm)}}function je(n,s){1&n&&e.EFF(0,"Action")}function Te(n,s){if(1&n&&(e.j41(0,"th"),e.DNE(1,je,1,0),e.k0s()),2&n){const t=s.ngIf;e.R7$(),e.vxM(t>0?1:-1)}}function Me(n,s){if(1&n&&(e.DNE(0,Te,2,1,"th",9),e.nI1(1,"async")),2&n){const t=e.XpG(5);e.Y8G("ngIf",e.bMT(1,1,t.$persona))}}function Ie(n,s){if(1&n&&(e.j41(0,"tr")(1,"th",30),e.nrm(2,"p-tableHeaderCheckbox"),e.k0s(),e.j41(3,"th",31),e.EFF(4,"Id "),e.nrm(5,"p-sortIcon",32),e.k0s(),e.j41(6,"th",33),e.EFF(7,"Name "),e.nrm(8,"p-sortIcon",32),e.k0s(),e.j41(9,"th"),e.EFF(10,"Phone"),e.k0s(),e.j41(11,"th"),e.EFF(12,"Email"),e.k0s(),e.j41(13,"th"),e.EFF(14,"Address"),e.k0s(),e.j41(15,"th",34),e.EFF(16,"DOB"),e.k0s(),e.j41(17,"th",35),e.EFF(18,"Class "),e.nrm(19,"p-sortIcon",32),e.k0s(),e.j41(20,"th",36),e.EFF(21,"Section "),e.nrm(22,"p-sortIcon",32),e.k0s(),e.j41(23,"th"),e.EFF(24,"SchoolId"),e.k0s(),e.j41(25,"th"),e.EFF(26,"Addmission"),e.k0s(),e.j41(27,"th",37),e.EFF(28,"City "),e.nrm(29,"p-sortIcon",32),e.k0s(),e.DNE(30,Me,2,3,"th"),e.k0s()),2&n){const t=e.XpG().ngIf;e.R7$(30),e.vxM("teacher"==t||"admin"==t?30:-1)}}function Ee(n,s){1&n&&e.DNE(0,Ie,31,1,"ng-template",29)}function Le(n,s){if(1&n&&(e.j41(0,"i"),e.EFF(1),e.k0s()),2&n){const t=e.XpG().$implicit;e.R7$(),e.SpI("City:",t.City,",")}}function Pe(n,s){if(1&n&&(e.j41(0,"i"),e.EFF(1),e.k0s()),2&n){const t=e.XpG().$implicit;e.R7$(),e.SpI("state:",t.state,"")}}function $e(n,s){if(1&n){const t=e.RV6();e.j41(0,"p-button",48),e.bIt("click",function(){e.eBV(t);const i=e.XpG(3).$implicit,r=e.XpG(3);return e.Njj(r.update(i))}),e.k0s()}2&n&&e.Y8G("disabled",0==s.ngIf)}function Re(n,s){if(1&n&&(e.DNE(0,$e,1,1,"p-button",47),e.nI1(1,"async")),2&n){const t=e.XpG(5);e.Y8G("ngIf",e.bMT(1,1,t.$persona))}}function Ge(n,s){if(1&n&&(e.qex(0),e.DNE(1,Re,2,3,"p-button",46),e.bVm()),2&n){const t=s.ngIf;e.R7$(),e.vxM("teacher"==t||"admin"==t?1:-1)}}function xe(n,s){if(1&n&&(e.j41(0,"tr",38)(1,"td",30),e.nrm(2,"p-tableCheckbox",39),e.k0s(),e.j41(3,"td",30),e.EFF(4),e.k0s(),e.j41(5,"td",30)(6,"label",40),e.nrm(7,"p-avatar",41),e.j41(8,"b",42),e.EFF(9),e.k0s()()(),e.j41(10,"td"),e.EFF(11),e.k0s(),e.j41(12,"td"),e.EFF(13),e.k0s(),e.j41(14,"td",43)(15,"small",44),e.EFF(16),e.DNE(17,Le,2,1,"i",9)(18,Pe,2,1,"i",9),e.k0s()(),e.j41(19,"td",45),e.EFF(20),e.nI1(21,"date"),e.k0s(),e.j41(22,"td"),e.EFF(23),e.k0s(),e.j41(24,"td"),e.EFF(25),e.k0s(),e.j41(26,"td"),e.EFF(27),e.k0s(),e.j41(28,"td",45),e.EFF(29),e.nI1(30,"date"),e.k0s(),e.j41(31,"td"),e.EFF(32),e.nI1(33,"uppercase"),e.k0s(),e.j41(34,"td"),e.DNE(35,Ge,2,1,"ng-container",9),e.nI1(36,"async"),e.k0s()()),2&n){const t=s.$implicit,o=e.XpG(3);e.Y8G("ngClass",t.active?"active":"disabled"),e.R7$(2),e.Y8G("value",t),e.R7$(2),e.JRh(t.id),e.R7$(3),e.Y8G("image",o.BASE_URL+"/"+t.profile_pic),e.R7$(2),e.JRh(t.full_name),e.R7$(2),e.JRh(t.phone),e.R7$(2),e.JRh(t.email),e.R7$(3),e.Lme("",t.address1,", ",t.address2,", "),e.R7$(),e.Y8G("ngIf",t.City),e.R7$(),e.Y8G("ngIf",t.state),e.R7$(2),e.JRh(e.i5U(21,18,t.dob,"dd-MMM-YYYY")),e.R7$(3),e.JRh(t.class),e.R7$(2),e.JRh(t.section),e.R7$(2),e.JRh(t.school_id),e.R7$(2),e.JRh(e.i5U(30,21,t.doa,"dd-MMM-YYYY")),e.R7$(3),e.JRh(e.bMT(33,24,t.city)),e.R7$(3),e.Y8G("ngIf",e.bMT(36,26,o.$type))}}function De(n,s){1&n&&(e.j41(0,"tr")(1,"td",49),e.EFF(2,"No Student data available"),e.k0s()())}function Oe(n,s){if(1&n){const t=e.RV6();e.j41(0,"div",14)(1,"p-table",15,0),e.mxI("selectionChange",function(i){e.eBV(t);const r=e.XpG(2);return e.DH7(r.selectedStudent,i)||(r.selectedStudent=i),e.Njj(i)}),e.j41(3,"div",16)(4,"div",17)(5,"p-floatLabel",18)(6,"input",19),e.bIt("input",function(){let i;e.eBV(t);const r=e.sdS(2),l=e.XpG(2);return e.Njj(r.filterGlobal(null==(i=l.filterForm.get("name"))?null:i.value,"contains"))}),e.k0s(),e.j41(7,"label",20),e.EFF(8,"Search Student with id, Name, section, email, or Class"),e.k0s()()()(),e.nrm(9,"br"),e.DNE(10,Se,5,1,"ng-template",21)(11,Ee,1,0,null,9),e.nI1(12,"async"),e.DNE(13,xe,37,28,"ng-template",22)(14,De,3,0,"ng-template",23),e.k0s()()}if(2&n){const t=e.XpG(2);e.R7$(),e.Y8G("value",t.stdData$)("scrollable",!0)("rows",10)("rowsPerPageOptions",e.lJ4(11,be)),e.R50("selection",t.selectedStudent),e.Y8G("paginator",!0)("globalFilterFields",e.lJ4(12,Ce))("tableStyle",e.lJ4(13,Fe)),e.R7$(10),e.Y8G("ngIf",e.bMT(12,9,t.$type))}}function Ne(n,s){if(1&n&&(e.j41(0,"section",2)(1,"div",3)(2,"div",4),e.nrm(3,"app-inner-page-title",5),e.k0s(),e.DNE(4,ke,2,1,"div",6),e.nI1(5,"async"),e.k0s(),e.DNE(6,Oe,15,14,"div",7),e.nI1(7,"async"),e.k0s()),2&n){const t=e.XpG();e.R7$(3),e.Y8G("title","Student List")("icon","pi pi-users"),e.R7$(),e.Y8G("ngIf",e.bMT(5,4,t.$type)),e.R7$(2),e.Y8G("ngIf",!e.bMT(7,6,t.$loading))}}let Ye=(()=>{class n{constructor(t,o,i,r,l,p,C){this._SharedAPI=t,this.dialogService=o,this._userService=i,this._toastr=r,this._appServices=l,this._fb=p,this._router=C,this.BASE_URL=G.c.apiURL,this.stdData$=[],this.school_id=sessionStorage.getItem("school_id")||"",this.type=sessionStorage.getItem("type")||"",this.uid=sessionStorage.getItem("uid")||"",this.finyear=sessionStorage.getItem("finyear")||"",this.selectedStudent=[],this.filterForm=this._fb.group({name:""}),this.getStdData(),this.$loading=l.loader$,this.$persona=this._appServices.persona$,this.$type=this._appServices.type$}getStdData(){this._appServices.loader$.next(!0),this._SharedAPI.getStudentsByYear(this.school_id,this.finyear).subscribe(t=>{this.stdData$=t.results,this._appServices.loader$.next(!1)})}update(t){this.ref=this.dialogService.open(V,{header:"Update Student",data:{result:t,dialogType:"update"},width:"80%"}),this.ref.onClose.subscribe(o=>{o&&(this._appServices.loader$.next(!0),this._SharedAPI.updateStudent(o).subscribe(i=>{i.valid?(this._toastr.add({severity:"success",detail:"success",summary:"Student Data Saved Successful!"}),this._router.navigate([`/user/${this.type}/${this.uid}/students`]),this.getStdData(),this._appServices.loader$.next(!1)):(this._appServices.loader$.next(!1),this._toastr.add({severity:"error",detail:"error",summary:i.message?i.message:"Student Error!"}))}))})}createStudent(){this.ref=this.dialogService.open(V,{header:"Add Student",data:{result:null,dialogType:"create"},width:"80%"}),this.ref.onClose.subscribe(t=>{t&&(this._appServices.loader$.next(!0),this._userService.createUser(t).subscribe(o=>{if(o.valid&&o.udata.uid){t.uid=o.udata.uid;let r=sessionStorage.getItem("school_id");t.school_id=r||null,t.full_name=`${t.fname} ${t.mname} ${t.lname}`,this._userService.createStudent(t).subscribe(l=>{this._appServices.loader$.next(!1),l.valid?(this._router.navigate([this._router.url]),this.getStdData(),this._toastr.add({severity:"success",detail:"success",summary:"Student Data Saved Successful!"})):this._toastr.add({severity:"error",detail:"error",summary:l.message?l.message:"Student Error!"})})}else this._appServices.loader$.next(!1),this._toastr.add({severity:"error",detail:"error",summary:o.message?o.message:"Student Error!"})}))})}static#e=this.\u0275fac=function(o){return new(o||n)(e.rXU(v.d),e.rXU(g.o3),e.rXU(k.F),e.rXU(u.bg),e.rXU(y.u),e.rXU(a.ok),e.rXU(j.Ix))};static#t=this.\u0275cmp=e.VBU({type:n,selectors:[["app-student-table"]],features:[e.Jv_([g.o3,u.bg])],decls:2,vars:1,consts:[["dt2",""],["class","student-table",4,"ngIf"],[1,"student-table"],[1,"row","mb-3"],[1,"col-md-6"],[3,"title","icon"],["class","col-md-6 d-flex justify-content-end",4,"ngIf"],["class","card",4,"ngIf"],[1,"col-md-6","d-flex","justify-content-end"],[4,"ngIf"],["icon","pi pi-pencil","pTooltip","Create Event",3,"disabled"],["icon","pi pi-trash","pTooltip","Delete selected",3,"disabled"],["icon","pi pi-envelope","pTooltip","Message",3,"disabled"],["severity","primary","label","Create Student","icon","pi pi-plus",3,"click","disabled"],[1,"card"],["dataKey","id",3,"selectionChange","value","scrollable","rows","rowsPerPageOptions","selection","paginator","globalFilterFields","tableStyle"],[1,"row"],[1,"col-md-12"],[1,"full-width"],["pInputText","","id","search","type","text","placeholder","Search Student with id, Name, section, email, or Class",1,"full-width",3,"input"],["for","search"],["pTemplate","caption"],["pTemplate","body"],["pTemplate","emptymessage"],[1,"flex"],[3,"formGroup"],["iconPosition","left",1,"ml-auto"],["pInputText","","type","text","id","search","formControlName","name","placeholder","Search Student with id, Name, section, email, or Class",2,"width","100%",3,"input"],["styleClass","pi pi-search"],["pTemplate","header"],["pFrozenColumn",""],["pSortableColumn","id","pFrozenColumn",""],["field","code"],["pSortableColumn","full_name","pFrozenColumn",""],[2,"min-width","100px"],["pSortableColumn","class"],["pSortableColumn","section"],["pSortableColumn","city"],[3,"ngClass"],[3,"value"],[1,"d-flex","align-items-center",2,"margin","0"],["size","xlarge",3,"image"],[2,"padding-left","12px","white-space","nowrap"],[2,"min-width","200px"],[2,"font-size","12px","line-height","10px"],[2,"min-width","150px"],["size","small","severity","help","icon","pi pi-pencil",3,"disabled"],["size","small","severity","help","icon","pi pi-pencil",3,"disabled","click",4,"ngIf"],["size","small","severity","help","icon","pi pi-pencil",3,"click","disabled"],["colspan","13",1,"text-center"]],template:function(o,i){1&o&&(e.DNE(0,Ne,8,8,"section",1),e.nrm(1,"p-toast")),2&o&&e.Y8G("ngIf",i.stdData$)},dependencies:[c.YU,c.bT,a.qT,a.me,a.BC,a.cb,a.j4,a.JD,b.S,u.Ei,m.$n,D.m,L.e,S.y8,_.XI,_.Tg,_.du,_.yc,_.S9,_.nA,f.V,J.C,ge.m,I.p,c.Jj,c.Pc,c.vh],styles:[".student-table[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{padding:20px 0}.student-table[_ngcontent-%COMP%]   tr.disabled[_ngcontent-%COMP%]{background-color:#fbb8b8}"]})}return n})(),we=(()=>{class n{static#e=this.\u0275fac=function(o){return new(o||n)};static#t=this.\u0275cmp=e.VBU({type:n,selectors:[["app-student-management"]],decls:1,vars:0,template:function(o,i){1&o&&e.nrm(0,"app-student-table")},dependencies:[Ye]})}return n})();var Ae=d(1800);let Xe=(()=>{class n{constructor(t,o,i){this._shareAPI=t,this._appService=o,this._toast=i,this.type=sessionStorage.getItem("type")||"",this.school_id=sessionStorage.getItem("school_id")||"",this.fin_year=sessionStorage.getItem("fin_year")||"",this.teacherData=[]}getTeacherData(){this._appService.loader$.next(!0),this._shareAPI.getTeachersFinyear(this.school_id,this.fin_year).subscribe(t=>{this._appService.loader$.next(!1),t.valid?(this.teacherData=t.results,this._toast.add({severity:"success",summary:"success",detail:"Teacher data fetched Successfuly!"})):this._toast.add({severity:"error",summary:"error",detail:"Error in Teacher data!"})})}static#e=this.\u0275fac=function(o){return new(o||n)(e.rXU(v.d),e.rXU(y.u),e.rXU(u.bg))};static#t=this.\u0275cmp=e.VBU({type:n,selectors:[["app-teacher-management"]],standalone:!0,features:[e.aNF],decls:1,vars:0,template:function(o,i){1&o&&e.nrm(0,"app-teacher-table")},dependencies:[Ae.q]})}return n})();var Be=d(1434),q=d(474),Ue=d(1716),O=d(6306),F=d(491),P=d(6781),Ve=d(7887);const Je=()=>({width:"35rem"}),qe=()=>[],He=()=>[10,25,50],ze=()=>["fname","lname","email","student_id"];function Qe(n,s){if(1&n){const t=e.RV6();e.j41(0,"div",30),e.nrm(1,"p-button",32),e.EFF(2,"\xa0 "),e.nrm(3,"p-button",33),e.EFF(4,"\xa0 "),e.nrm(5,"p-button",34),e.EFF(6,"\xa0 "),e.j41(7,"p-button",35),e.bIt("click",function(){e.eBV(t);const i=e.XpG(4);return e.Njj(i.showpopup())}),e.k0s()()}if(2&n){const t=s.ngIf,o=e.XpG(4);e.R7$(),e.Y8G("disabled",o.isDisabled),e.R7$(2),e.Y8G("disabled",o.isDisabled),e.R7$(2),e.Y8G("disabled",o.isDisabled),e.R7$(2),e.Y8G("disabled",0==t)}}function Ke(n,s){if(1&n&&(e.DNE(0,Qe,8,4,"div",31),e.nI1(1,"async")),2&n){const t=e.XpG(3);e.Y8G("ngIf",e.bMT(1,1,t.$persona))}}function Ze(n,s){if(1&n&&(e.j41(0,"div",6),e.DNE(1,Ke,2,3,"div",30),e.k0s()),2&n){const t=s.ngIf;e.R7$(),e.vxM("teacher"==t||"admin"==t?1:-1)}}function We(n,s){if(1&n){const t=e.RV6();e.j41(0,"form",41)(1,"div",4)(2,"div",42)(3,"p-floatLabel",43)(4,"input",44),e.bIt("input",function(){let i;e.eBV(t),e.XpG();const r=e.sdS(1),l=e.XpG(2);return e.Njj(r.filterGlobal(null==(i=l.searchFrm.get("search"))?null:i.value,"contains"))}),e.k0s(),e.j41(5,"label",45),e.EFF(6,"Search Parent"),e.k0s()()(),e.j41(7,"div",46),e.nrm(8,"p-button",47),e.k0s()()()}if(2&n){const t=e.XpG(3);e.Y8G("formGroup",t.searchFrm)}}function et(n,s){1&n&&(e.j41(0,"th"),e.EFF(1,"Action"),e.k0s())}function tt(n,s){if(1&n&&(e.DNE(0,et,2,0,"th",48),e.nI1(1,"async")),2&n){const t=e.XpG(4);e.Y8G("ngIf",e.bMT(1,1,t.$persona))}}function nt(n,s){if(1&n&&(e.j41(0,"tr")(1,"th"),e.nrm(2,"p-tableHeaderCheckbox"),e.k0s(),e.j41(3,"th"),e.EFF(4,"First Name"),e.k0s(),e.j41(5,"th"),e.EFF(6,"Last Name"),e.k0s(),e.j41(7,"th"),e.EFF(8,"Phone"),e.k0s(),e.j41(9,"th"),e.EFF(10,"Email"),e.k0s(),e.j41(11,"th"),e.EFF(12,"Student ID"),e.k0s(),e.DNE(13,tt,2,3,"th"),e.k0s()),2&n){const t=e.XpG().ngIf;e.R7$(13),e.vxM("teacher"==t||"admin"==t?13:-1)}}function ot(n,s){if(1&n&&(e.j41(0,"td"),e.nrm(1,"p-button",50),e.k0s()),2&n){const t=s.ngIf;e.R7$(),e.Y8G("disabled",0==t)}}function it(n,s){if(1&n&&(e.DNE(0,ot,2,1,"td",48),e.nI1(1,"async")),2&n){const t=e.XpG(4);e.Y8G("ngIf",e.bMT(1,1,t.$persona))}}function st(n,s){if(1&n&&(e.j41(0,"tr")(1,"td"),e.nrm(2,"p-tableCheckbox",49),e.k0s(),e.j41(3,"td"),e.EFF(4),e.k0s(),e.j41(5,"td"),e.EFF(6),e.k0s(),e.j41(7,"td"),e.EFF(8),e.k0s(),e.j41(9,"td"),e.EFF(10),e.k0s(),e.j41(11,"td"),e.EFF(12),e.k0s(),e.DNE(13,it,2,3,"td"),e.k0s()),2&n){const t=s.$implicit,o=e.XpG().ngIf;e.R7$(2),e.Y8G("value",t),e.R7$(2),e.JRh(t.fname),e.R7$(2),e.JRh(t.lname),e.R7$(2),e.JRh(t.phone),e.R7$(2),e.JRh(t.email),e.R7$(2),e.JRh(t.student_id),e.R7$(),e.vxM("teacher"==o||"admin"==o?13:-1)}}function at(n,s){1&n&&(e.j41(0,"tr")(1,"td",51),e.EFF(2,"No Parent data available"),e.k0s()())}function rt(n,s){if(1&n){const t=e.RV6();e.j41(0,"p-table",36,0),e.mxI("selectionChange",function(i){e.eBV(t);const r=e.XpG(2);return e.DH7(r.selectedParent,i)||(r.selectedParent=i),e.Njj(i)}),e.DNE(2,We,9,1,"ng-template",37)(3,nt,14,1,"ng-template",38)(4,st,14,7,"ng-template",39)(5,at,3,0,"ng-template",40),e.k0s()}if(2&n){const t=e.XpG(2);e.Y8G("value",t.parentList||e.lJ4(6,qe)),e.R50("selection",t.selectedParent),e.Y8G("rowsPerPageOptions",e.lJ4(7,He))("globalFilterFields",e.lJ4(8,ze))("paginator",!0)("rows",10)}}function lt(n,s){if(1&n&&(e.j41(0,"section",26)(1,"div",4)(2,"div",6),e.nrm(3,"app-inner-page-title",27),e.k0s(),e.DNE(4,Ze,2,1,"div",28),e.nI1(5,"async"),e.k0s(),e.nrm(6,"br"),e.DNE(7,rt,6,9,"p-table",29),e.nI1(8,"async"),e.k0s()),2&n){const t=e.XpG();e.R7$(3),e.Y8G("title","Parent List")("icon","pi pi-users"),e.R7$(),e.Y8G("ngIf",e.bMT(5,4,t.$type)),e.R7$(3),e.Y8G("ngIf",e.bMT(8,6,t.$type))}}let ct=(()=>{class n{constructor(t,o,i,r,l,p,C){this._sharedapi=t,this.fb=o,this.userApi=i,this._appService=r,this.store=l,this._API=p,this._toast=C,this.parentList=[],this.visible=!1,this.isLoading=!1,this.studentList=[],this.isDisabled=!0,this.selectedParent=[],this.school_id=sessionStorage.getItem("school_id")||"",this.genderList=[{name:"Male",code:"male"},{name:"Female",code:"female"},{name:"Other",code:"other"}],this.$type=this._appService.type$,this.$persona=this._appService.persona$,this.$loader=this._appService.loader$,this.searchFrm=this.fb.group({search:[""]}),this.parentFrm=this.fb.group({id:[""],uid:[""],fname:[""],lname:[""],email:[""],password:[""],username:[""],phone:[""],gender:[""],student_id:[],school_id:[""],type:"parent"})}ngOnInit(){this.parentFrm.get("school_id")?.setValue(this.school_id),this.loadParentData(),this.getStudentList()}loadParentData(){this.isLoading=!0,this._appService.loader$.next(!0),this._sharedapi.getParents(this.school_id).subscribe(t=>{this._appService.loader$.next(!1),this.parentList=t.results})}showpopup(){this.visible=!0}submitparent(t){t.valid&&(this.isLoading=!0,this._appService.loader$.next(!0),this.userApi.createUser(t.value).subscribe(o=>{let i=o?.udata;o.valid&&i.uid?(t.value.uid=i.uid,this.userApi.createParent(t.value).subscribe(r=>{this._appService.loader$.next(!1),this._toast.add({severity:"success",summary:"Success",detail:"Parent Data Loaded Successfully!"}),this.isLoading=!1})):(this._appService.loader$.next(!1),this._toast.add({severity:"error",summary:"error",detail:"Error Loading Parent Data!"}),this.isLoading=!1)}))}getStudentList(){this._sharedapi.getStudents(this.school_id).subscribe(t=>{this.studentList=t.results})}static#e=this.\u0275fac=function(o){return new(o||n)(e.rXU(v.d),e.rXU(a.ok),e.rXU(k.F),e.rXU(y.u),e.rXU(Ve.il),e.rXU(R.M),e.rXU(u.bg))};static#t=this.\u0275cmp=e.VBU({type:n,selectors:[["app-parent-management"]],standalone:!0,features:[e.Jv_([u.bg]),e.aNF],decls:63,vars:9,consts:[["dt2",""],["class","parent-list",4,"ngIf"],["header","Create Parent Account",3,"visibleChange","modal","visible"],[3,"submit","formGroup"],[1,"row"],[1,"col-12"],[1,"col-md-6"],["id","username","type","text","pInputText","","formControlName","username"],["for","username"],["id","password","type","password","pInputText","","formControlName","password"],["for","password"],["optionLabel","full_name","optionValue","id","id","student_id","formControlName","student_id",3,"options"],["for","student_id"],["type","text","id","fname","pInputText","","formControlName","fname"],["for","fname"],["type","text","id","lname","pInputText","","formControlName","lname"],["for","lname"],["type","text","id","email","pInputText","","formControlName","email"],["for","email"],["type","tel","id","tel","pInputText","","formControlName","phone"],["for","tel"],["placeholder","Select Gender","optionLabel","name","optionValue","code","formControlName","gender","id","gender",3,"options"],["for","gender"],[1,"text-right",2,"width","100%","padding-top","12px"],["severity","secondary",3,"onClick"],["severity","primary","type","submit",3,"onClick"],[1,"parent-list"],[3,"title","icon"],["class","col-md-6",4,"ngIf"],["dataKey","id",3,"value","selection","rowsPerPageOptions","globalFilterFields","paginator","rows","selectionChange",4,"ngIf"],[1,"text-right"],["class","text-right",4,"ngIf"],["icon","pi pi-pencil","pTooltip","Create Event",3,"disabled"],["icon","pi pi-trash","pTooltip","Delete selected",3,"disabled"],["icon","pi pi-envelope","pTooltip","Message",3,"disabled"],["severity","primary","icon","pi pi-plus","label","Create parent Data",3,"click","disabled"],["dataKey","id",3,"selectionChange","value","selection","rowsPerPageOptions","globalFilterFields","paginator","rows"],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],[1,"parent-form",3,"formGroup"],[1,"col-8"],[1,"full-width"],["type","search","pInputText","","formControlName","search","id","search",1,"full-width",3,"input"],["for","search"],[1,"col-4"],["icon","pi pi-search","label","Search"],[4,"ngIf"],[3,"value"],["icon","pi pi-pencil","severity","help",3,"disabled"],["colspan","7",1,"text-center"]],template:function(o,i){1&o&&(e.DNE(0,lt,9,8,"section",1),e.j41(1,"p-dialog",2),e.mxI("visibleChange",function(l){return e.DH7(i.visible,l)||(i.visible=l),l}),e.j41(2,"form",3),e.bIt("submit",function(){return i.submitparent(i.parentFrm)}),e.j41(3,"div",4)(4,"div",5)(5,"label"),e.EFF(6,"Create Parent Credentail"),e.k0s()(),e.j41(7,"div",6),e.nrm(8,"br"),e.j41(9,"p-floatLabel"),e.nrm(10,"input",7),e.j41(11,"label",8),e.EFF(12,"Username"),e.k0s()()(),e.j41(13,"div",6),e.nrm(14,"br"),e.j41(15,"p-floatLabel"),e.nrm(16,"input",9),e.j41(17,"label",10),e.EFF(18,"Password"),e.k0s()()()(),e.nrm(19,"hr"),e.j41(20,"div",4)(21,"div",6),e.nrm(22,"br"),e.j41(23,"p-floatLabel"),e.nrm(24,"p-dropdown",11),e.j41(25,"label",12),e.EFF(26,"Select Student"),e.k0s()()(),e.j41(27,"div",6),e.nrm(28,"br"),e.j41(29,"p-floatLabel"),e.nrm(30,"input",13),e.j41(31,"label",14),e.EFF(32,"First Name"),e.k0s()()(),e.j41(33,"div",6),e.nrm(34,"br"),e.j41(35,"p-floatLabel"),e.nrm(36,"input",15),e.j41(37,"label",16),e.EFF(38,"last Name"),e.k0s()()(),e.j41(39,"div",6),e.nrm(40,"br"),e.j41(41,"p-floatLabel"),e.nrm(42,"input",17),e.j41(43,"label",18),e.EFF(44,"Email"),e.k0s()()(),e.j41(45,"div",6),e.nrm(46,"br"),e.j41(47,"p-floatLabel"),e.nrm(48,"input",19),e.j41(49,"label",20),e.EFF(50,"Phone"),e.k0s()()(),e.j41(51,"div",6),e.nrm(52,"br"),e.j41(53,"p-floatLabel"),e.nrm(54,"p-dropdown",21),e.j41(55,"label",22),e.EFF(56,"Gender"),e.k0s()()(),e.j41(57,"div",23)(58,"p-button",24),e.bIt("onClick",function(){return i.visible=!1}),e.EFF(59,"Cancel"),e.k0s(),e.EFF(60,"\xa0\xa0 "),e.j41(61,"p-button",25),e.bIt("onClick",function(){return i.visible=!1}),e.EFF(62,"Create parent"),e.k0s()()()()()),2&o&&(e.Y8G("ngIf",i.parentList),e.R7$(),e.Aen(e.lJ4(8,Je)),e.Y8G("modal",!0),e.R50("visible",i.visible),e.R7$(),e.Y8G("formGroup",i.parentFrm),e.R7$(22),e.Y8G("options",i.studentList),e.R7$(30),e.Y8G("options",i.genderList))},dependencies:[c.MD,c.bT,c.Jj,I.p,S.MB,u.Ei,h.kr,h.ms,P.P,P.l,D.S,D.m,b.u,b.S,f.f,f.V,a.YN,a.qT,a.me,a.BC,a.cb,a.X1,a.j4,a.JD,_.bG,_.XI,_.S9,_.nA,O.G,F.D,m.tm,m.$n],styles:[".parent-list[_ngcontent-%COMP%]{padding:0 15px}.parent-list[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{margin-bottom:12px}.p-inputgroup[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{width:100%}"]})}return n})();var dt=d(2932),$=d(8676);const pt=()=>({"min-width":"50rem"});function ut(n,s){if(1&n){const t=e.RV6();e.j41(0,"li",32),e.bIt("click",function(){const i=e.eBV(t).$implicit,r=e.XpG();return e.Njj(r.selectFeeStructure(i.fee_list))}),e.EFF(1),e.k0s()}if(2&n){const t=s.$implicit;e.R7$(),e.JRh(t.name)}}function mt(n,s){if(1&n&&(e.j41(0,"tr")(1,"td"),e.EFF(2),e.k0s(),e.j41(3,"td"),e.EFF(4),e.k0s()()),2&n){const t=s.$implicit;e.R7$(2),e.JRh(t.fee_name),e.R7$(2),e.JRh(t.fee_amount)}}function _t(n,s){if(1&n&&(e.j41(0,"section",33)(1,"table",34)(2,"thead",35)(3,"td"),e.EFF(4,"Fee Name"),e.k0s(),e.j41(5,"td"),e.EFF(6,"Fee Amount"),e.k0s()(),e.j41(7,"tbody"),e.DNE(8,mt,5,2,"tr",36),e.j41(9,"tr",37),e.nrm(10,"td")(11,"td"),e.k0s(),e.j41(12,"tr")(13,"td"),e.EFF(14,"Total"),e.k0s(),e.j41(15,"td"),e.EFF(16),e.k0s()()()()()),2&n){const t=e.XpG();e.R7$(8),e.Y8G("ngForOf",t.feeStructure),e.R7$(8),e.JRh(t.totalAmount)}}function ht(n,s){1&n&&(e.j41(0,"tr")(1,"th"),e.EFF(2,"Fee Slid Name"),e.k0s(),e.j41(3,"th"),e.EFF(4,"Amount"),e.k0s()())}function ft(n,s){if(1&n&&(e.j41(0,"tr")(1,"td"),e.EFF(2),e.k0s(),e.j41(3,"td"),e.EFF(4),e.k0s()()),2&n){const t=s.$implicit;e.R7$(2),e.JRh(t.fee_name),e.R7$(2),e.JRh(t.fee_amount)}}let gt=(()=>{class n{constructor(t,o,i,r){this._feeService=t,this.dialogService=o,this.fb=i,this._feeAPI=r,this.school_id=sessionStorage.getItem("school_id")||"",this.feeStructureList=[],this.feeStructure=[],this.totalAmount=0,this.feeStructureFrm=this.fb.group({fee_name:"",fee_amount:0,fee_description:"",school_id:""}),this.schoolFeeFrm=this.fb.group({name:"",fee_list:[""],school_id:""}),this.getFeeList(),this.getSchoolFeeList()}getFeeStructure(){this._feeService.getFeeStructure(this.school_id).subscribe(t=>{this.feeStructureList=t.results})}openDialog(){this.feeDialogRef=this.dialogService.open(dt.n,{header:"Create Fee Structure",data:{},width:"50%"}),this.feeDialogRef.onClose.subscribe(t=>{console.log(t)})}feeSubmit(t){t.valid&&(this.feeStructureFrm.get("school_id")?.setValue(this.school_id),this._feeService.createFee(t.value).subscribe(o=>{console.log("sasassas",o)}))}getFeeList(){this._feeService.getFeeData(this.school_id).subscribe(t=>{this.feeList=t.results})}schoolFeeSubmit(t){t.valid&&(this.schoolFeeFrm.get("school_id")?.setValue(this.school_id),this._feeService.createFeeStructure(t.value).subscribe(o=>{console.log("sasassas",o)}))}getSchoolFeeList(){this._feeService.getFeeStructure(this.school_id).subscribe(t=>{this.feeStructureList=t.results})}selectFeeStructure(t){var o=this;return(0,E.A)(function*(){if(t){let i=t.split(",");o.feeStructure=[],o.totalAmount=0,i.map(r=>{o._feeAPI.getFee(r).subscribe(l=>{o.totalAmount+=l.results[0]?l.results[0].fee_amount:0,o.feeStructure.push(l.results[0])})})}})()}static#e=this.\u0275fac=function(o){return new(o||n)(e.rXU(k.F),e.rXU(g.o3),e.rXU(a.ok),e.rXU(v.d))};static#t=this.\u0275cmp=e.VBU({type:n,selectors:[["app-fee-structure"]],features:[e.Jv_([g.o3,u.bg])],decls:64,vars:10,consts:[[1,"fee-details"],[1,"row"],[1,"col-md-6"],[3,"title","icon"],[1,"col-md-6","text-right"],[3,"click"],[3,"formGroup"],[1,"full-width"],["id","name","type","text","pInputText","","formControlName","name",1,"full-width"],["for","name"],[1,"col-md-4"],["optionValue","id","width","100%","formControlName","fee_list","optionLabel","fee_name","placeholder","Select Fee lable",1,"full-width",3,"options"],["for","fee_list"],[1,"col-md-2","text-right"],["severity","success",1,"full-width",3,"click"],[1,"pi","pi-plane"],[1,"feeStructureList"],["class","list-item",3,"click",4,"ngFor","ngForOf"],[1,"col-md-8"],["class","feeTable",4,"ngIf"],[1,"col-md-3"],["id","fee_name","type","text","pInputText","","formControlName","fee_name"],["for","fee_name"],["id","fee_amount","type","text","pInputText","","formControlName","fee_amount"],["for","fee_amount"],["id","fee_description","type","text","pInputText","","formControlName","fee_description"],["for","fee_description"],[1,"col-md-3","text-right"],["severity","success",3,"click"],[3,"value","tableStyle"],["pTemplate","header"],["pTemplate","body"],[1,"list-item",3,"click"],[1,"feeTable"],["border","1",1,"full-width"],[1,"bg-dark","text-white"],[4,"ngFor","ngForOf"],[2,"height","90px"]],template:function(o,i){1&o&&(e.j41(0,"section",0)(1,"div",1)(2,"div",2),e.nrm(3,"app-inner-page-title",3),e.k0s(),e.j41(4,"div",4)(5,"p-button",5),e.bIt("click",function(){return i.getFeeStructure()}),e.EFF(6,"Create Fee Structure"),e.k0s()()(),e.nrm(7,"hr"),e.j41(8,"p-card")(9,"form",6)(10,"div",1)(11,"div",2)(12,"p-floatLabel",7),e.nrm(13,"input",8),e.j41(14,"label",9),e.EFF(15,"Fee Name"),e.k0s()()(),e.j41(16,"div",10)(17,"p-floatLabel",7),e.nrm(18,"p-multiSelect",11),e.j41(19,"label",12),e.EFF(20,"Fee List"),e.k0s()()(),e.j41(21,"div",13)(22,"p-button",14),e.bIt("click",function(){return i.schoolFeeSubmit(i.schoolFeeFrm)}),e.nrm(23,"i",15),e.EFF(24,"\xa0Create"),e.k0s()()()(),e.nrm(25,"br"),e.j41(26,"h4"),e.EFF(27,"Fee Structure List"),e.k0s(),e.j41(28,"div",1)(29,"div",10)(30,"ul",16),e.DNE(31,ut,2,1,"li",17),e.k0s()(),e.j41(32,"div",18),e.DNE(33,_t,17,2,"section",19),e.k0s()()(),e.j41(34,"p-card"),e.nrm(35,"hr"),e.j41(36,"form",6)(37,"h3"),e.EFF(38,"Create Fees slid"),e.k0s(),e.nrm(39,"br"),e.j41(40,"div",1)(41,"div",20)(42,"p-floatLabel"),e.nrm(43,"input",21),e.j41(44,"label",22),e.EFF(45,"Fee Name"),e.k0s()()(),e.j41(46,"div",20)(47,"p-floatLabel"),e.nrm(48,"input",23),e.j41(49,"label",24),e.EFF(50,"Amount"),e.k0s()()(),e.j41(51,"div",20)(52,"p-floatLabel"),e.nrm(53,"input",25),e.j41(54,"label",26),e.EFF(55,"Enter fee description"),e.k0s()()(),e.j41(56,"div",27)(57,"p-button",28),e.bIt("click",function(){return i.feeSubmit(i.feeStructureFrm)}),e.nrm(58,"i",15),e.EFF(59,"\xa0Create"),e.k0s()()()(),e.nrm(60,"br"),e.j41(61,"p-table",29),e.DNE(62,ht,5,0,"ng-template",30)(63,ft,5,2,"ng-template",31),e.k0s()()()),2&o&&(e.R7$(3),e.Y8G("title","Fee Structure")("icon","pi pi-money-bill"),e.R7$(6),e.Y8G("formGroup",i.schoolFeeFrm),e.R7$(9),e.Y8G("options",i.feeList),e.R7$(13),e.Y8G("ngForOf",i.feeStructureList),e.R7$(2),e.Y8G("ngIf",i.feeStructure.length),e.R7$(3),e.Y8G("formGroup",i.feeStructureFrm),e.R7$(25),e.Y8G("value",i.feeList)("tableStyle",e.lJ4(9,pt)))},dependencies:[c.Sq,c.bT,a.qT,a.me,a.BC,a.cb,a.j4,a.JD,b.S,u.Ei,m.$n,_.XI,f.V,F.Z,$.KF,I.p],styles:[".feeStructureList[_ngcontent-%COMP%]{margin:0;list-style:decimal;background-color:#f1f1f1}.feeStructureList[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:6px 15px;cursor:pointer;font-size:16px;border-bottom:1px solid #d0d0d0}.feeTable[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:2px 10px;font-size:16px;height:40px}.feeTable[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child{align-items:end;text-align:right}"]})}return n})();var bt=d(6692);let Ct=(()=>{class n{constructor(t){this._tutorService=t,this.feeList=[],this._tutorService.studentFeeList.subscribe(o=>{this.feeList=o,console.log("BBBBBBBBBBBBBBBBBB :",o)})}static#e=this.\u0275fac=function(o){return new(o||n)(e.rXU(R.M))};static#t=this.\u0275cmp=e.VBU({type:n,selectors:[["app-slip-report"]],standalone:!0,features:[e.aNF],decls:1,vars:2,consts:[[3,"studentFeeList","slipType"]],template:function(o,i){1&o&&e.nrm(0,"app-fee-payment",0),2&o&&e.Y8G("studentFeeList",i.feeList)("slipType","pay")},dependencies:[bt.G]})}return n})();var M=d(4945);function Ft(n,s){1&n&&(e.j41(0,"tr")(1,"th"),e.EFF(2,"ID"),e.k0s(),e.j41(3,"th"),e.EFF(4,"Subject Name"),e.k0s(),e.j41(5,"th"),e.EFF(6,"Class"),e.k0s(),e.j41(7,"th"),e.EFF(8,"Create On"),e.k0s()())}function vt(n,s){if(1&n&&(e.j41(0,"tr")(1,"td"),e.EFF(2),e.k0s(),e.j41(3,"td"),e.EFF(4),e.k0s(),e.j41(5,"td"),e.EFF(6),e.k0s(),e.j41(7,"td"),e.EFF(8),e.nI1(9,"date"),e.k0s()()),2&n){const t=s.$implicit;e.R7$(2),e.JRh(t.id),e.R7$(2),e.JRh(t.name),e.R7$(2),e.JRh(t.class_name),e.R7$(2),e.JRh(e.i5U(9,4,t.created_on,"dd-MMM-YYYY"))}}function yt(n,s){1&n&&(e.j41(0,"tr")(1,"td",13),e.EFF(2,"No Subject available"),e.k0s()())}function kt(n,s){if(1&n){const t=e.RV6();e.j41(0,"section",0)(1,"form",1),e.bIt("submit",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.createSubject(i.subjectFormgroup))}),e.j41(2,"div",2)(3,"div",3)(4,"span",4),e.nrm(5,"i",5),e.k0s(),e.nrm(6,"input",6),e.k0s()(),e.j41(7,"div",2)(8,"div",3),e.nrm(9,"p-dropdown",7),e.k0s()(),e.j41(10,"div",2)(11,"p-button",8),e.EFF(12,"Create Subject"),e.k0s()()(),e.nrm(13,"br"),e.j41(14,"p-table",9),e.DNE(15,Ft,9,0,"ng-template",10)(16,vt,10,7,"ng-template",11)(17,yt,3,0,"ng-template",12),e.k0s()()}if(2&n){const t=e.XpG();e.R7$(),e.Y8G("formGroup",t.subjectFormgroup),e.R7$(8),e.Y8G("options",t.classList),e.R7$(5),e.Y8G("value",t.subjectList)("scrollable",!0)}}function St(n,s){1&n&&(e.j41(0,"h3"),e.nrm(1,"span",14),e.EFF(2," Please create "),e.j41(3,"b"),e.EFF(4,"Classes & Section"),e.k0s(),e.EFF(5," in School Management."),e.k0s())}let jt=(()=>{class n{constructor(t,o,i,r,l){this._fb=t,this._sharedAPI=o,this._toast=i,this._appService=r,this._userService=l,this.classList=[],this.subjectList=[],this.school_id=sessionStorage.getItem("school_id")||"",this.subjectFormgroup=this._fb.group({id:[""],name:["",[a.k0.required]],school_id:[""],section_id:[null],class_id:["",[a.k0.required]],fin_year:["",[a.k0.required]],created_by:[""],modify_by:[""]})}ngOnInit(){this.subjectFormgroup.get("fin_year")?.setValue(sessionStorage.getItem("finyear")),this.subjectFormgroup.get("school_id")?.setValue(sessionStorage.getItem("school_id")),this.subjectFormgroup.get("created_by")?.setValue(sessionStorage.getItem("uid")),this.subjectFormgroup.get("modify_by")?.setValue(sessionStorage.getItem("uid")),this.getClassList(),this.getSubjectList()}createSubject(t){console.log(t),t.valid&&(this._userService.createSubjects(t.value).subscribe(o=>{o.valid?(this._toast.add({severity:"success",detail:"Success",summary:"Subject Created successfuly."}),this.subjectFormgroup.get("name")?.setValue(""),this.subjectFormgroup.get("class_id")?.setValue("")):this._toast.add({severity:"danger",detail:"Error",summary:"Subject Error!"})}),this.getSubjectList())}getSubjectList(){this._userService.getSubjectList(this.school_id).subscribe(t=>{t.results&&(this.subjectList=t.results)})}getClassList(){this._userService.getClassList(this.school_id).subscribe(t=>{t.results&&(this.classList=t.results)})}static#e=this.\u0275fac=function(o){return new(o||n)(e.rXU(a.ok),e.rXU(v.d),e.rXU(u.bg),e.rXU(y.u),e.rXU(k.F))};static#t=this.\u0275cmp=e.VBU({type:n,selectors:[["app-subjects-management"]],standalone:!0,features:[e.aNF],decls:2,vars:1,consts:[[1,"subject-management"],[1,"row",3,"submit","formGroup"],[1,"col-4"],[1,"p-inputgroup"],[1,"p-inputgroup-addon"],[1,"pi","pi-pencil"],["pInputText","","placeholder","Enter Subject","formControlName","name"],["optionLabel","name","optionValue","id","placeholder","Select a Class","formControlName","class_id",3,"options"],["type","submit"],["scrollHeight","60vh","sortField","class_name","groupRowsBy","class_name",3,"value","scrollable"],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],["colspan","4",1,"text-center"],[1,"pi","pi-arrow-circle-up",2,"font-size","30px","color","rgb(232, 53, 53)"]],template:function(o,i){1&o&&e.DNE(0,kt,18,4,"section",0)(1,St,6,0,"h3"),2&o&&e.vxM(i.classList.length>0?0:1)},dependencies:[c.MD,c.vh,S.MB,u.Ei,h.kr,h.ms,P.P,D.S,b.u,b.S,f.f,a.YN,a.qT,a.me,a.BC,a.cb,a.X1,a.j4,a.JD,_.bG,_.XI,F.D,m.tm,m.$n]})}return n})();function Tt(n,s){1&n&&(e.j41(0,"tr")(1,"th"),e.EFF(2,"Class Name"),e.k0s(),e.j41(3,"th"),e.EFF(4,"Create On"),e.k0s(),e.j41(5,"th",21),e.EFF(6,"Action"),e.k0s()())}function Mt(n,s){if(1&n&&(e.j41(0,"tr")(1,"td"),e.EFF(2),e.k0s(),e.j41(3,"td"),e.EFF(4),e.nI1(5,"date"),e.k0s(),e.j41(6,"td",21),e.nrm(7,"p-button",22),e.k0s()()),2&n){const t=s.$implicit;e.R7$(2),e.JRh(t.name),e.R7$(2),e.JRh(e.i5U(5,2,t.created_on,"dd-MMM-YYYY"))}}function It(n,s){1&n&&(e.j41(0,"tr")(1,"td",23),e.EFF(2,"No Class data available"),e.k0s()())}function Et(n,s){if(1&n){const t=e.RV6();e.j41(0,"form",4),e.bIt("submit",function(){e.eBV(t);const i=e.XpG(2);return e.Njj(i.createSection(i.sectionFormgroup))}),e.j41(1,"div",10)(2,"div",6),e.nrm(3,"p-dropdown",26),e.k0s()(),e.j41(4,"div",10)(5,"div",6)(6,"span",7),e.nrm(7,"i",8),e.k0s(),e.nrm(8,"input",27),e.k0s()(),e.j41(9,"div",10)(10,"p-button",11),e.EFF(11,"Create Section"),e.k0s()()()}if(2&n){const t=e.XpG(2);e.Y8G("formGroup",t.sectionFormgroup),e.R7$(3),e.Y8G("options",t.classList)}}function Lt(n,s){1&n&&(e.j41(0,"tr")(1,"th"),e.EFF(2,"Section Name"),e.k0s(),e.j41(3,"th"),e.EFF(4,"Class"),e.k0s(),e.j41(5,"th"),e.EFF(6,"Create On"),e.k0s(),e.j41(7,"th",21),e.EFF(8,"Action"),e.k0s()())}function Pt(n,s){if(1&n&&(e.j41(0,"tr",28)(1,"td",29)(2,"div",30),e.EFF(3),e.k0s()()()),2&n){const t=s.$implicit;e.R7$(3),e.SpI(" ",t.class_name," ")}}function $t(n,s){if(1&n&&(e.j41(0,"tr")(1,"td"),e.EFF(2),e.k0s(),e.j41(3,"td"),e.EFF(4),e.k0s(),e.j41(5,"td"),e.EFF(6),e.nI1(7,"date"),e.k0s(),e.j41(8,"td",21),e.nrm(9,"p-button",22),e.k0s()()),2&n){const t=s.$implicit;e.R7$(2),e.JRh(t.name),e.R7$(2),e.JRh(t.class_name),e.R7$(2),e.JRh(e.i5U(7,3,t.created_on,"dd-MMM-YYYY"))}}function Rt(n,s){1&n&&(e.j41(0,"tr")(1,"td",31),e.EFF(2,"No Section available"),e.k0s()())}function Gt(n,s){if(1&n&&(e.DNE(0,Et,12,2,"form",24),e.nrm(1,"br"),e.j41(2,"p-table",25),e.DNE(3,Lt,9,0,"ng-template",13)(4,Pt,4,1,"ng-template",null,0,e.C5r)(6,$t,10,6,"ng-template",14)(7,Rt,3,0,"ng-template",15),e.k0s()),2&n){const t=e.XpG();e.Y8G("ngIf",t.classList.length>0),e.R7$(2),e.Y8G("value",t.sectionList)}}function xt(n,s){1&n&&(e.j41(0,"h3"),e.nrm(1,"span",32),e.EFF(2," Please create "),e.j41(3,"b"),e.EFF(4,"Classes"),e.k0s(),e.EFF(5," in School Management."),e.k0s())}function Dt(n,s){1&n&&(e.j41(0,"tr")(1,"th"),e.EFF(2,"Fin Year Name"),e.k0s(),e.j41(3,"th",21),e.EFF(4,"Action"),e.k0s()())}function Ot(n,s){if(1&n&&(e.j41(0,"tr")(1,"td"),e.EFF(2),e.k0s(),e.j41(3,"td",21),e.nrm(4,"p-button",22),e.k0s()()),2&n){const t=s.$implicit;e.R7$(2),e.JRh(t.name)}}function Nt(n,s){1&n&&(e.j41(0,"tr")(1,"td",33),e.EFF(2,"No Finacial Data available"),e.k0s()())}let Yt=(()=>{class n{constructor(t,o,i,r){this.userService=t,this.fb=o,this.messageService=i,this.appServices=r,this.isLoading=!1,this.school_id=sessionStorage.getItem("school_id")||"",this.classList=[{name:"1",id:1,school_id:"23432"}],this.sectionList=[{name:"A",id:1,school_id:"23432",class_id:1}],this.finYearList=[{name:"2024-2025",id:1,school_id:"23432"}],this.classFormgroup=this.fb.group({id:[""],name:["",[a.k0.required]],school_id:[""]}),this.sectionFormgroup=this.fb.group({id:[""],class_id:[""],name:["",[a.k0.required]],school_id:[""]}),this.finYearFormgroup=this.fb.group({id:[""],name:["",[a.k0.required]],school_id:[""]})}ngOnInit(){this.getClassList(),this.getSectionList(),this.getFinYearList()}getClassList(){this.appServices.loader$.next(!0),this.userService.getClassList(this.school_id).subscribe(t=>{this.appServices.loader$.next(!1),t.results&&(this.classList=t.results)})}getSectionList(){this.userService.sectionList(this.school_id).subscribe(t=>{console.log(t.results),t.results&&(this.sectionList=t.results)})}getFinYearList(){this.userService.finYearsList(this.school_id).subscribe(t=>{t.results&&(this.finYearList=t.results)})}createClass(t){this.isLoading=!0,this.appServices.loader$.next(!0),t.valid&&(this.classFormgroup.get("school_id")?.setValue(this.school_id),this.userService.createClass(t.value).subscribe(o=>{this.isLoading=!1,this.appServices.loader$.next(!1),this.messageService.add({severity:"success",detail:"Class Created Successfully!",summary:"Success"}),this.getClassList()}))}createSection(t){this.isLoading=!0,this.appServices.loader$.next(!0),t.valid&&(this.sectionFormgroup.get("school_id")?.setValue(this.school_id),this.userService.createSection(t.value).subscribe(o=>{this.appServices.loader$.next(!1),this.messageService.add({severity:"success",detail:"Section Created Successfully!",summary:"Success"}),this.isLoading=!1,this.getSectionList()}))}createFinYear(t){this.appServices.loader$.next(!0),this.isLoading=!0,t.valid&&(this.finYearFormgroup.get("school_id")?.setValue(this.school_id),this.userService.createFinYears(t.value).subscribe(o=>{this.appServices.loader$.next(!1),this.messageService.add({severity:"success",detail:"Fin year Created Successfully!",summary:"Success"}),this.isLoading=!1,this.getFinYearList()}))}getClassName(t){let o=this.classList.filter(i=>i.id==t);return o[0]?.name?o[0]?.name:""}static#e=this.\u0275fac=function(o){return new(o||n)(e.rXU(k.F),e.rXU(a.ok),e.rXU(u.bg),e.rXU(y.u))};static#t=this.\u0275cmp=e.VBU({type:n,selectors:[["app-school-management"]],standalone:!0,features:[e.aNF],decls:40,vars:7,consts:[["groupheader",""],[1,"school-manage","container-fluid"],[3,"title","icon"],["header","Class"],[1,"row",3,"submit","formGroup"],[1,"col-8"],[1,"p-inputgroup"],[1,"p-inputgroup-addon"],[1,"pi","pi-pencil"],["pInputText","","placeholder","Enter Class","formControlName","name"],[1,"col-4"],["type","submit"],["sortField","name",3,"value"],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],["header","Section"],["header","Financial Year"],["pInputText","","placeholder","Enter Financial Year","formControlName","name"],[3,"value"],["header","Subjects"],[1,"text-right"],["icon","pi pi-trash","severity","danger"],["colspan","3",1,"text-center"],["class","row",3,"formGroup","submit",4,"ngIf"],["sortField","class_name","sortMode","single","rowGroupMode","subheader","groupRowsBy","class_name",3,"value"],["optionLabel","name","optionValue","id","placeholder","Select a Class","formControlName","class_id",3,"options"],["pInputText","","placeholder","Enter Section","formControlName","name"],["pRowGroupHeader",""],["colspan","4"],[1,"flex","items-center","gap-2"],["colspan","4",1,"text-center"],[1,"pi","pi-arrow-circle-up",2,"font-size","30px","color","rgb(232, 53, 53)"],["colspan","2",1,"text-center"]],template:function(o,i){1&o&&(e.nrm(0,"p-toast"),e.j41(1,"section",1),e.nrm(2,"app-inner-page-title",2)(3,"br"),e.j41(4,"p-tabView")(5,"p-tabPanel",3)(6,"form",4),e.bIt("submit",function(){return i.createClass(i.classFormgroup)}),e.j41(7,"div",5)(8,"div",6)(9,"span",7),e.nrm(10,"i",8),e.k0s(),e.nrm(11,"input",9),e.k0s()(),e.j41(12,"div",10)(13,"p-button",11),e.EFF(14,"Create Class"),e.k0s()()(),e.nrm(15,"br"),e.j41(16,"p-table",12),e.DNE(17,Tt,7,0,"ng-template",13)(18,Mt,8,5,"ng-template",14)(19,It,3,0,"ng-template",15),e.k0s()(),e.j41(20,"p-tabPanel",16),e.DNE(21,Gt,8,2)(22,xt,6,0,"h3"),e.k0s(),e.j41(23,"p-tabPanel",17)(24,"form",4),e.bIt("submit",function(){return i.createFinYear(i.finYearFormgroup)}),e.j41(25,"div",5)(26,"div",6)(27,"span",7),e.nrm(28,"i",8),e.k0s(),e.nrm(29,"input",18),e.k0s()(),e.j41(30,"div",10)(31,"p-button",11),e.EFF(32,"Create Finacial Year"),e.k0s()()(),e.nrm(33,"br"),e.j41(34,"p-table",19),e.DNE(35,Dt,5,0,"ng-template",13)(36,Ot,5,1,"ng-template",14)(37,Nt,3,0,"ng-template",15),e.k0s()(),e.j41(38,"p-tabPanel",20),e.nrm(39,"app-subjects-management"),e.k0s()()()),2&o&&(e.R7$(2),e.Y8G("title","Create School Management System")("icon","pi pi-id-card"),e.R7$(4),e.Y8G("formGroup",i.classFormgroup),e.R7$(10),e.Y8G("value",i.classList),e.R7$(5),e.vxM(i.classList.length>0?21:22),e.R7$(3),e.Y8G("formGroup",i.finYearFormgroup),e.R7$(10),e.Y8G("value",i.finYearList))},dependencies:[c.MD,c.bT,c.vh,jt,F.D,u.Ei,I.p,S.MB,S.y8,a.X1,a.qT,a.me,a.BC,a.cb,a.j4,a.JD,b.u,b.S,M.fd,M.JQ,M.Kp,f.f,m.tm,m.$n,_.bG,_.XI,_.$I,h.kr,h.ms],styles:[".title[_ngcontent-%COMP%]{padding:4px 15px}"]})}return n})();var wt=d(2188);function At(n,s){if(1&n&&e.nrm(0,"img",14),2&n){const t=e.XpG().$implicit,o=e.XpG();e.Y8G("src",o.baseURL+"/"+t.profile_pic,e.B4B)}}function Xt(n,s){1&n&&e.nrm(0,"img",15)}function Bt(n,s){if(1&n&&(e.qex(0),e.j41(1,"div",2)(2,"p-card",3)(3,"section",4)(4,"figure"),e.DNE(5,At,1,1,"img",5)(6,Xt,1,0,"img",6),e.k0s(),e.nrm(7,"br")(8,"br"),e.j41(9,"h4"),e.EFF(10),e.k0s(),e.j41(11,"p"),e.EFF(12),e.k0s(),e.j41(13,"p"),e.EFF(14,"Son/Daughter of "),e.j41(15,"b"),e.EFF(16),e.k0s()(),e.j41(17,"small"),e.EFF(18),e.k0s(),e.j41(19,"small"),e.EFF(20),e.k0s()(),e.j41(21,"p-footer",7)(22,"div",8)(23,"div",9),e.nrm(24,"img",10),e.k0s(),e.j41(25,"div",11)(26,"b"),e.EFF(27),e.k0s(),e.nrm(28,"br"),e.EFF(29),e.k0s()()()(),e.j41(30,"p-card",3)(31,"section",12)(32,"h5"),e.EFF(33,"Instruction :"),e.k0s(),e.j41(34,"ul",13)(35,"li"),e.EFF(36," This ID card should be worn at all times while on school premises."),e.k0s(),e.j41(37,"li"),e.EFF(38,"In case of loss, report immediately to the school administration."),e.k0s(),e.j41(39,"li"),e.EFF(40,"This ID card is non-transferable and must be returned when requested by the school."),e.k0s()(),e.j41(41,"p",4),e.EFF(42),e.k0s(),e.j41(43,"p",4),e.EFF(44),e.k0s()(),e.j41(45,"p-footer",7)(46,"div",8)(47,"div",9),e.nrm(48,"img",10),e.k0s(),e.j41(49,"div",11)(50,"b"),e.EFF(51),e.k0s(),e.nrm(52,"br"),e.EFF(53),e.k0s()()()()(),e.bVm()),2&n){const t=s.$implicit,o=e.XpG();e.R7$(2),e.Y8G("ngClass",o.theme),e.R7$(3),e.Y8G("ngIf",t.profile_pic),e.R7$(),e.Y8G("ngIf",!t.profile_pic),e.R7$(4),e.JRh(t.full_name),e.R7$(2),e.Lme("Class : ",t.class,", Section: ",t.section,""),e.R7$(4),e.SpI(" ",t.father_name,""),e.R7$(2),e.Lme("Address: ",t.address1,", ",t.address2,""),e.R7$(2),e.Lme("State: ",t.state,", City: ",t.city,""),e.R7$(4),e.Y8G("src",o.baseURL+"/"+o.schoolData.logo,e.B4B),e.R7$(3),e.JRh(o.schoolData.name?o.schoolData.name:""),e.R7$(2),e.SpI("",o.schoolData.address1," "),e.R7$(),e.Y8G("ngClass","bg-"+o.theme),e.R7$(12),e.SpI("Contact no. :",o.schoolData.phone,""),e.R7$(2),e.SpI("Email : ",o.schoolData.email,""),e.R7$(4),e.Y8G("src",o.baseURL+"/"+o.schoolData.logo,e.B4B),e.R7$(3),e.JRh(o.schoolData.name?o.schoolData.name:""),e.R7$(2),e.SpI("",o.schoolData.address1," ")}}let H=(()=>{class n{constructor(t,o){this._appServices=t,this._shareAPI=o,this.school_id=sessionStorage.getItem("school_id")||"",this.studentList=[],this.baseURL=G.c.apiURL,this.theme="card1",this._shareAPI.getStudents(this.school_id).subscribe(i=>{this.studentList=i.results}),this.getSchoolData()}getSchoolData(){this._appServices.getSchool(this.school_id).subscribe(t=>{this.schoolData=t.results[0]})}static#e=this.\u0275fac=function(o){return new(o||n)(e.rXU(y.u),e.rXU(v.d))};static#t=this.\u0275cmp=e.VBU({type:n,selectors:[["app-id-card"]],inputs:{theme:"theme"},standalone:!0,features:[e.aNF],decls:2,vars:1,consts:[[1,"id-card"],[4,"ngFor","ngForOf"],[1,"d-flex"],[1,"card",3,"ngClass"],[1,"text-center"],[3,"src",4,"ngIf"],["src","../../../assets/images/no-photo.png",4,"ngIf"],[1,"footer"],[1,"row"],[1,"col-2"],["height","40px","width","auto",3,"src"],[1,"col-10"],[1,"back-cover"],[2,"font-size","12px"],[3,"src"],["src","../../../assets/images/no-photo.png"]],template:function(o,i){1&o&&(e.j41(0,"section",0),e.DNE(1,Bt,54,20,"ng-container",1),e.k0s()),2&o&&(e.R7$(),e.Y8G("ngForOf",i.studentList))},dependencies:[c.MD,c.YU,c.Sq,c.bT,F.D,F.Z,u.wi],styles:[".id-card[_ngcontent-%COMP%]{display:block}.id-card[_ngcontent-%COMP%]   .d-flex[_ngcontent-%COMP%]{align-items:center}.id-card[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{display:inline-block;max-width:330px;width:100%;margin:0 15px 20px 0;background-size:100% 100%;height:500px}.id-card[_ngcontent-%COMP%]   .card.card1[_ngcontent-%COMP%]{background-image:url(card1.483628c0d42d35d1.jpg);background-position:-2px -66px;background-size:101%}.id-card[_ngcontent-%COMP%]   .card.card1[_ngcontent-%COMP%]   figure[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:50%}.id-card[_ngcontent-%COMP%]   .card.card2[_ngcontent-%COMP%]{background-image:url(card2.7503049d1acee667.jpg);background-position:-1px -8px;background-size:cover}.id-card[_ngcontent-%COMP%]   .card.card2[_ngcontent-%COMP%]   figure[_ngcontent-%COMP%]{height:172px;border-radius:12px;margin:30px 0 -35px}.id-card[_ngcontent-%COMP%]   .card.card2[_ngcontent-%COMP%]   figure[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:163px;border-radius:20px;border:10px solid #f4d35f;background-color:#f4d35f}.id-card[_ngcontent-%COMP%]   .card.card3[_ngcontent-%COMP%]{background-image:url(card3.055a59a1608b0576.jpg)}.id-card[_ngcontent-%COMP%]   .card.card4[_ngcontent-%COMP%]{background-image:url(card4.1c3b6c5d797922cf.jpg);background-position:0px -43px;background-size:100%}.id-card[_ngcontent-%COMP%]   .card.card4[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{color:#fff}.id-card[_ngcontent-%COMP%]   .card.card4[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:50%}.id-card[_ngcontent-%COMP%]   .card.bg-card1[_ngcontent-%COMP%]{background-image:url(bg-card1.72935f723e287801.jpg)}.id-card[_ngcontent-%COMP%]   .card.bg-card1[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{color:#fff}.id-card[_ngcontent-%COMP%]   .card.bg-card2[_ngcontent-%COMP%]{background-image:url(bg-card2.f6356e4561a39160.jpg)}.id-card[_ngcontent-%COMP%]   .card.bg-card3[_ngcontent-%COMP%]{background-image:url(bg-card3.02e586e2b01bfff1.jpg)}.id-card[_ngcontent-%COMP%]   .card.bg-card4[_ngcontent-%COMP%]{background-image:url(bg-card4.c1e277b6e0bd6d90.jpg)}.id-card[_ngcontent-%COMP%]   .card.bg-card4[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{color:#fff}.id-card[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .p-card[_ngcontent-%COMP%]{background:none}.id-card[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .back-cover[_ngcontent-%COMP%]{padding:50px 0}.id-card[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   figure[_ngcontent-%COMP%]{height:150px;width:auto;overflow:hidden;border-radius:12px;margin:30px auto 0;text-align:center;width:100%}.id-card[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   figure[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:100%;width:auto}.id-card[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0}"]})}return n})();const Ut=["printableSection"];function Vt(n,s){if(1&n&&(e.j41(0,"th"),e.EFF(1),e.k0s()),2&n){const t=s.$implicit;e.R7$(),e.JRh(t)}}function Jt(n,s){if(1&n&&(e.EFF(0),e.nI1(1,"date")),2&n){const t=e.XpG().$implicit,o=e.XpG().$implicit;e.SpI(" ","dob"==t||"doa"==t?e.bMT(1,1,o[t]):o[t]," ")}}function qt(n,s){1&n&&e.EFF(0," -- ")}function Ht(n,s){if(1&n&&(e.j41(0,"td",11),e.DNE(1,Jt,2,3)(2,qt,1,0),e.k0s()),2&n){const t=s.$implicit,o=e.XpG().$implicit;e.R7$(),e.vxM("undefined"!==o[t]&&"null"!=o[t]?1:2)}}function zt(n,s){if(1&n&&(e.j41(0,"tr"),e.DNE(1,Ht,3,1,"td",10),e.k0s()),2&n){const t=e.XpG(2);e.R7$(),e.Y8G("ngForOf",t.getHeaders())}}function Qt(n,s){if(1&n&&(e.j41(0,"div",null,0)(2,"p"),e.EFF(3),e.j41(4,"span",7),e.EFF(5,"Class:2"),e.k0s()(),e.j41(6,"table",8)(7,"thead")(8,"tr"),e.DNE(9,Vt,2,1,"th",9),e.k0s()(),e.j41(10,"tbody"),e.DNE(11,zt,2,1,"tr",9),e.k0s()()()),2&n){const t=e.XpG();e.R7$(3),e.SpI("Result: ",t.report_data.length,", Filter:"),e.R7$(6),e.Y8G("ngForOf",t.getHeaders()),e.R7$(2),e.Y8G("ngForOf",t.report_data)}}function Kt(n,s){if(1&n&&(e.j41(0,"section"),e.nrm(1,"app-id-card",12),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.Y8G("theme",t.params.theme)}}let Zt=(()=>{class n{constructor(t,o,i,r,l){this._api=t,this._sharedAPI=o,this.app=i,this._router=r,this._route=l,this.colums=[],this.reportvalue=[],this.school_id=sessionStorage.getItem("school_id")||"",this.type=sessionStorage.getItem("type")||"",this.uid=sessionStorage.getItem("uid")||"",this.report_data=[],this.params=this._router.snapshot.queryParams,this.type$=this.app.type$,"icard"!==this.params.report&&this.getReport(this.params)}getHeaders(){let t=[];return this.report_data&&this.report_data.forEach(o=>{Object.keys(o).forEach(i=>{t.find(r=>r==i)||t.push(i)})}),t}getReport(t){var o=this;return(0,E.A)(function*(){o.app.loader$.next(!0),o._sharedAPI.getReportsData(o.params).subscribe(i=>{o.app.loader$.next(!1),o.report_data=i.results})})()}printSection(){window.print()}backtoReport(){this._route.navigate([`/user/${this.type}/${this.uid}/report`])}static#e=this.\u0275fac=function(o){return new(o||n)(e.rXU(k.F),e.rXU(v.d),e.rXU(y.u),e.rXU(j.nX),e.rXU(j.Ix))};static#t=this.\u0275cmp=e.VBU({type:n,selectors:[["app-report-table"]],viewQuery:function(o,i){if(1&o&&e.GBs(Ut,5),2&o){let r;e.mGM(r=e.lsd())&&(i.printableSection=r.first)}},inputs:{colums:"colums",params:"params"},standalone:!0,features:[e.aNF],decls:10,vars:2,consts:[["printableSection",""],[1,"report-container"],[1,"no-print"],["severity","secondary",3,"click"],[1,"pi","pi-back"],[3,"click"],[4,"ngIf"],[1,"badge","badge-success"],["border","1"],[4,"ngFor","ngForOf"],["style","white-space: nowrap;",4,"ngFor","ngForOf"],[2,"white-space","nowrap"],[3,"theme"]],template:function(o,i){1&o&&(e.j41(0,"section",1)(1,"div",2)(2,"p-button",3),e.bIt("click",function(){return i.backtoReport()}),e.nrm(3,"i",4),e.EFF(4," Back to Report"),e.k0s(),e.EFF(5,"\xa0\xa0"),e.j41(6,"p-button",5),e.bIt("click",function(){return i.printSection()}),e.EFF(7,"Print"),e.k0s()(),e.DNE(8,Qt,12,3,"div",6)(9,Kt,2,1,"section",6),e.k0s()),2&o&&(e.R7$(8),e.Y8G("ngIf","icard"!==i.params.report),e.R7$(),e.Y8G("ngIf","icard"==i.params.report))},dependencies:[a.YN,F.D,_.bG,j.iI,m.tm,m.$n,c.MD,c.Sq,c.bT,c.vh,H],styles:[".report-container[_ngcontent-%COMP%]{padding:40px 0}.report-container[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background-color:#ddd}.report-container[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:4px;text-transform:capitalize}.report-container[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:6px}"]})}return n})();var z=d(704),Wt=d(7243);function en(n,s){if(1&n&&e.nrm(0,"app-profile",3),2&n){const t=e.XpG();e.Y8G("data",t.data$)}}let tn=(()=>{class n{constructor(t){this._tutorAPI=t,this._tutorAPI.getTutorData().subscribe(o=>{this.data$=o.results[0]})}static#e=this.\u0275fac=function(o){return new(o||n)(e.rXU(R.M))};static#t=this.\u0275cmp=e.VBU({type:n,selectors:[["app-tutor-profile"]],standalone:!0,features:[e.aNF],decls:5,vars:1,consts:[["header","Profile Setting"],[3,"data",4,"ngIf"],["header","Password Update"],[3,"data"]],template:function(o,i){1&o&&(e.j41(0,"p-tabView")(1,"p-tabPanel",0),e.DNE(2,en,1,1,"app-profile",1),e.k0s(),e.j41(3,"p-tabPanel",2),e.nrm(4,"app-update-password"),e.k0s()()),2&o&&(e.R7$(2),e.Y8G("ngIf",i.data$))},dependencies:[M.fd,M.JQ,M.Kp,z.O,c.MD,c.bT,O.G,Wt.n]})}return n})();var Q=d(3306),K=d(4420);const nn=["input"],on=(n,s,t,o)=>({"p-checkbox p-component":!0,"p-checkbox-checked":n,"p-checkbox-disabled":s,"p-checkbox-focused":t,"p-variant-filled":o}),sn=(n,s,t)=>({"p-highlight":n,"p-disabled":s,"p-focus":t}),an=(n,s,t)=>({"p-checkbox-label":!0,"p-checkbox-label-active":n,"p-disabled":s,"p-checkbox-label-focus":t});function rn(n,s){if(1&n&&e.nrm(0,"span",10),2&n){const t=e.XpG(3);e.Y8G("ngClass",t.checkboxIcon),e.BMQ("data-pc-section","icon")}}function ln(n,s){1&n&&e.nrm(0,"CheckIcon",11),2&n&&(e.Y8G("styleClass","p-checkbox-icon"),e.BMQ("data-pc-section","icon"))}function cn(n,s){if(1&n&&(e.qex(0),e.DNE(1,rn,1,2,"span",8)(2,ln,1,2,"CheckIcon",9),e.bVm()),2&n){const t=e.XpG(2);e.R7$(),e.Y8G("ngIf",t.checkboxIcon),e.R7$(),e.Y8G("ngIf",!t.checkboxIcon)}}function dn(n,s){}function pn(n,s){1&n&&e.DNE(0,dn,0,0,"ng-template")}function un(n,s){if(1&n&&(e.j41(0,"span",12),e.DNE(1,pn,1,0,null,13),e.k0s()),2&n){const t=e.XpG(2);e.BMQ("data-pc-section","icon"),e.R7$(),e.Y8G("ngTemplateOutlet",t.checkboxIconTemplate)}}function mn(n,s){if(1&n&&(e.qex(0),e.DNE(1,cn,3,2,"ng-container",5)(2,un,2,2,"span",7),e.bVm()),2&n){const t=e.XpG();e.R7$(),e.Y8G("ngIf",!t.checkboxIconTemplate),e.R7$(),e.Y8G("ngIf",t.checkboxIconTemplate)}}function _n(n,s){if(1&n){const t=e.RV6();e.j41(0,"label",14),e.bIt("click",function(i){e.eBV(t);const r=e.XpG(),l=e.sdS(3);return e.Njj(r.onClick(i,l,!0))}),e.EFF(1),e.k0s()}if(2&n){const t=e.XpG();e.HbH(t.labelStyleClass),e.Y8G("ngClass",e.sMw(6,an,t.checked(),t.disabled,t.focused)),e.BMQ("for",t.inputId)("data-pc-section","label"),e.R7$(),e.SpI(" ",t.label,"")}}const hn={provide:a.kq,useExisting:(0,e.Rfq)(()=>Z),multi:!0};let Z=(()=>{class n{cd;injector;config;value;name;disabled;binary;label;ariaLabelledBy;ariaLabel;tabindex;inputId;style;styleClass;labelStyleClass;formControl;checkboxIcon;readonly;required;autofocus;trueValue=!0;falseValue=!1;variant="outlined";onChange=new e.bkB;onFocus=new e.bkB;onBlur=new e.bkB;inputViewChild;templates;checkboxIconTemplate;model;onModelChange=()=>{};onModelTouched=()=>{};focused=!1;constructor(t,o,i){this.cd=t,this.injector=o,this.config=i}ngAfterContentInit(){this.templates.forEach(t=>{"icon"===t.getType()&&(this.checkboxIconTemplate=t.template)})}onClick(t,o,i){t.preventDefault(),!this.disabled&&!this.readonly&&(this.updateModel(t),i&&o.focus())}updateModel(t){let o;const i=this.injector.get(a.vO,null,{optional:!0,self:!0}),r=i&&!this.formControl?i.value:this.model;this.binary?(o=this.checked()?this.falseValue:this.trueValue,this.model=o,this.onModelChange(o)):(o=this.checked()?r.filter(l=>!K.BF.equals(l,this.value)):r?[...r,this.value]:[this.value],this.onModelChange(o),this.model=o,this.formControl&&this.formControl.setValue(o)),this.onChange.emit({checked:o,originalEvent:t})}handleChange(t){this.readonly||this.updateModel(t)}onInputFocus(t){this.focused=!0,this.onFocus.emit(t)}onInputBlur(t){this.focused=!1,this.onBlur.emit(t),this.onModelTouched()}focus(){this.inputViewChild.nativeElement.focus()}writeValue(t){this.model=t,this.cd.markForCheck()}registerOnChange(t){this.onModelChange=t}registerOnTouched(t){this.onModelTouched=t}setDisabledState(t){setTimeout(()=>{this.disabled=t,this.cd.markForCheck()})}checked(){return this.binary?this.model===this.trueValue:K.BF.contains(this.value,this.model)}static \u0275fac=function(o){return new(o||n)(e.rXU(e.gRc),e.rXU(e.zZn),e.rXU(u.r1))};static \u0275cmp=e.VBU({type:n,selectors:[["p-checkbox"]],contentQueries:function(o,i,r){if(1&o&&e.wni(r,u.Ei,4),2&o){let l;e.mGM(l=e.lsd())&&(i.templates=l)}},viewQuery:function(o,i){if(1&o&&e.GBs(nn,5),2&o){let r;e.mGM(r=e.lsd())&&(i.inputViewChild=r.first)}},hostAttrs:[1,"p-element"],inputs:{value:"value",name:"name",disabled:[2,"disabled","disabled",e.L39],binary:[2,"binary","binary",e.L39],label:"label",ariaLabelledBy:"ariaLabelledBy",ariaLabel:"ariaLabel",tabindex:[2,"tabindex","tabindex",e.Udg],inputId:"inputId",style:"style",styleClass:"styleClass",labelStyleClass:"labelStyleClass",formControl:"formControl",checkboxIcon:"checkboxIcon",readonly:[2,"readonly","readonly",e.L39],required:[2,"required","required",e.L39],autofocus:[2,"autofocus","autofocus",e.L39],trueValue:"trueValue",falseValue:"falseValue",variant:"variant"},outputs:{onChange:"onChange",onFocus:"onFocus",onBlur:"onBlur"},features:[e.Jv_([hn]),e.GFd],decls:7,vars:37,consts:[["input",""],[3,"ngStyle","ngClass"],[1,"p-hidden-accessible"],["type","checkbox","pAutoFocus","",3,"change","focus","blur","value","checked","disabled","readonly","autofocus"],[1,"p-checkbox-box",3,"click","ngClass"],[4,"ngIf"],[3,"class","ngClass","click",4,"ngIf"],["class","p-checkbox-icon",4,"ngIf"],["class","p-checkbox-icon",3,"ngClass",4,"ngIf"],[3,"styleClass",4,"ngIf"],[1,"p-checkbox-icon",3,"ngClass"],[3,"styleClass"],[1,"p-checkbox-icon"],[4,"ngTemplateOutlet"],[3,"click","ngClass"]],template:function(o,i){if(1&o){const r=e.RV6();e.j41(0,"div",1)(1,"div",2)(2,"input",3,0),e.bIt("change",function(p){return e.eBV(r),e.Njj(i.handleChange(p))})("focus",function(p){return e.eBV(r),e.Njj(i.onInputFocus(p))})("blur",function(p){return e.eBV(r),e.Njj(i.onInputBlur(p))}),e.k0s()(),e.j41(4,"div",4),e.bIt("click",function(p){e.eBV(r);const C=e.sdS(3);return e.Njj(i.onClick(p,C,!0))}),e.DNE(5,mn,3,2,"ng-container",5),e.k0s()(),e.DNE(6,_n,2,10,"label",6)}2&o&&(e.HbH(i.styleClass),e.Y8G("ngStyle",i.style)("ngClass",e.ziG(28,on,i.checked(),i.disabled,i.focused,"filled"===i.variant||"filled"===i.config.inputStyle())),e.BMQ("data-pc-name","checkbox")("data-pc-section","root"),e.R7$(),e.BMQ("data-pc-section","hiddenInputWrapper")("data-p-hidden-accessible",!0),e.R7$(),e.Y8G("value",i.value)("checked",i.checked())("disabled",i.disabled)("readonly",i.readonly)("autofocus",i.autofocus),e.BMQ("id",i.inputId)("name",i.name)("tabindex",i.tabindex)("required",i.required)("aria-labelledby",i.ariaLabelledBy)("aria-label",i.ariaLabel)("aria-checked",i.checked())("data-pc-section","hiddenInput"),e.R7$(2),e.Y8G("ngClass",e.sMw(33,sn,i.checked(),i.disabled,i.focused)),e.BMQ("data-p-highlight",i.checked())("data-p-disabled",i.disabled)("data-p-focused",i.focused)("data-pc-section","input"),e.R7$(),e.Y8G("ngIf",i.checked()),e.R7$(),e.Y8G("ngIf",i.label))},dependencies:()=>[c.YU,c.bT,c.T3,c.B3,x.q,Q.S],styles:["@layer primeng{.p-checkbox{display:inline-flex;cursor:pointer;-webkit-user-select:none;user-select:none;vertical-align:bottom;position:relative}.p-checkbox-disabled{cursor:default!important;pointer-events:none}.p-checkbox-box{display:flex;justify-content:center;align-items:center}p-checkbox{display:inline-flex;vertical-align:bottom;align-items:center}.p-checkbox-label{line-height:1}}\n"],encapsulation:2,changeDetection:0})}return n})(),W=(()=>{class n{static \u0275fac=function(o){return new(o||n)};static \u0275mod=e.$C({type:n});static \u0275inj=e.G2t({imports:[c.MD,x.u,Q.S,u.Gg]})}return n})(),fn=(()=>{class n{constructor(t,o,i,r,l){this._sharedAPI=t,this._userAPI=o,this._fb=i,this._config=r,this._ref=l,this.studentList=[],this.classList=[],this.sectionList=[],this.today=new Date,this.attdTypeList=[{name:"Present",value:1},{name:"Absent",value:2},{name:"Leave",value:3},{name:"Holiday",value:4}],this.school_id=sessionStorage.getItem("school_id")||"",this.attdFrm=this._fb.group({class_id:[""],section_id:[""],school_id:sessionStorage.getItem("school_id")||"",student_id:[""],fin_year:sessionStorage.getItem("finyear")||"2023-2024",attd_type:[""],date:[""]})}ngOnInit(){this.loadClass(),this.attdFrm.get("section_id")?.disable(),this.attdFrm.get("attd_type")?.disable(),this.attdFrm.get("student_id")?.disable()}loadStudent(){this._userAPI.getStudentByclass(this.attdFrm.value).subscribe(t=>{this.studentList=t.results})}loadClass(){this._userAPI.getClassList(this.school_id).subscribe(t=>{this.classList=t.results})}loadSection(t){this._userAPI.sectionByClass(this.school_id,t).subscribe(o=>{this.sectionList=o.results})}createAttendence(t){t.valid&&(console.log(t.value),this._ref.close(t.value))}getSection(t){this.loadSection(t),this.attdFrm.get("section_id")?.enable()}getStudent(t){this.loadStudent(),this.attdFrm.get("student_id")?.enable()}selectedStudent(t){console.log(t),this.attdFrm.get("attd_type")?.enable()}closeAttd(){this._ref.close()}static#e=this.\u0275fac=function(o){return new(o||n)(e.rXU(v.d),e.rXU(k.F),e.rXU(a.ok),e.rXU(g.o3),e.rXU(g.Pw))};static#t=this.\u0275cmp=e.VBU({type:n,selectors:[["app-attendence-calendar"]],standalone:!0,features:[e.Jv_([g.o3]),e.aNF],decls:37,vars:15,consts:[[1,"attendence-calendar"],[3,"formGroup"],[1,"row"],[1,"col-md-12"],["formControlName","date","id","attd_date","yearRange","2020:2040",3,"showIcon","showButtonBar","monthNavigator","yearNavigator","maxDate","readonlyInput"],["for","attd_date"],["formControlName","class_id","defaultLabel","name","optionLabel","name","optionValue","id","id","class",3,"ngModelChange","options","showClear"],["for","class"],["formControlName","section_id","defaultLabel","name","optionLabel","name","optionValue","id","id","section",3,"ngModelChange","options","showClear"],["for","section"],["formControlName","student_id","defaultLabel","full_name","optionLabel","full_name","optionValue","id","id","student",3,"ngModelChange","options","showClear"],["for","student"],["formControlName","attd_type","defaultLabel","name","optionLabel","name","optionValue","value","id","attdType",3,"options","showClear"],["for","attdType"],[1,"full-width"],["pInputText","","formControlName","fin_year","id","fin_year","readonly",""],["for","fin_year"],[1,"col-md-12","text-right"],["label","Cancel","severity","secondary","icon","pi pi-close",3,"click"],["label","Create Attendence","severity","success","icon","pi pi-plus",3,"click"]],template:function(o,i){1&o&&(e.j41(0,"section",0)(1,"form",1)(2,"div",2)(3,"div",3)(4,"p-floatLabel"),e.nrm(5,"p-calendar",4),e.j41(6,"label",5),e.EFF(7,"Select Date"),e.k0s()()(),e.j41(8,"div",3)(9,"p-floatLabel")(10,"p-dropdown",6),e.bIt("ngModelChange",function(l){return i.getSection(l)}),e.k0s(),e.j41(11,"label",7),e.EFF(12,"Class"),e.k0s()()(),e.j41(13,"div",3)(14,"p-floatLabel")(15,"p-dropdown",8),e.bIt("ngModelChange",function(l){return i.getStudent(l)}),e.k0s(),e.j41(16,"label",9),e.EFF(17,"Section"),e.k0s()()(),e.j41(18,"div",3)(19,"p-floatLabel")(20,"p-multiSelect",10),e.bIt("ngModelChange",function(l){return i.selectedStudent(l)}),e.k0s(),e.j41(21,"label",11),e.EFF(22,"Students"),e.k0s()()(),e.j41(23,"div",3)(24,"p-floatLabel"),e.nrm(25,"p-dropdown",12),e.j41(26,"label",13),e.EFF(27,"Select Attendence"),e.k0s()()(),e.j41(28,"div",3)(29,"p-floatLabel",14),e.nrm(30,"input",15),e.j41(31,"label",16),e.EFF(32,"Fin Year"),e.k0s()()(),e.j41(33,"div",17)(34,"p-button",18),e.bIt("click",function(){return i.closeAttd()}),e.k0s(),e.EFF(35,"\xa0\xa0 "),e.j41(36,"p-button",19),e.bIt("click",function(){return i.createAttendence(i.attdFrm)}),e.k0s()()()()()),2&o&&(e.R7$(),e.Y8G("formGroup",i.attdFrm),e.R7$(4),e.Y8G("showIcon",!0)("showButtonBar",!0)("monthNavigator",!0)("yearNavigator",!0)("maxDate",i.today)("readonlyInput",!0),e.R7$(5),e.Y8G("options",i.classList)("showClear",!0),e.R7$(5),e.Y8G("options",i.sectionList)("showClear",!0),e.R7$(5),e.Y8G("options",i.studentList)("showClear",!0),e.R7$(5),e.Y8G("options",i.attdTypeList)("showClear",!0))},dependencies:[c.MD,a.YN,a.qT,a.me,a.BC,a.cb,T.rO,T.Vv,m.$n,h.kr,h.ms,$.iV,$.KF,a.X1,a.j4,a.JD,b.u,b.S,f.f,f.V,m.tm,P.P,g.k_],styles:[".attendence-calendar[_ngcontent-%COMP%]   .col-md-12[_ngcontent-%COMP%]{margin-top:25px}"]})}return n})();const N=()=>({width:"190px"}),gn=()=>({"min-width":"50rem"});function bn(n,s){if(1&n&&(e.j41(0,"th")(1,"span",20),e.EFF(2),e.nI1(3,"date"),e.k0s()()),2&n){const t=s.$implicit;e.R7$(2),e.JRh(e.i5U(3,1,t.date,"dd MMM"))}}function Cn(n,s){if(1&n&&(e.j41(0,"tr")(1,"th",18),e.EFF(2,"Name"),e.k0s(),e.DNE(3,bn,4,4,"th",19),e.k0s()),2&n){const t=s.$implicit;e.R7$(3),e.Y8G("ngForOf",t)}}function Fn(n,s){if(1&n&&(e.j41(0,"span",23),e.EFF(1),e.k0s()),2&n){const t=e.XpG().$implicit,o=e.XpG().$implicit,i=e.XpG(2);e.Y8G("ngClass",i.getAttendanceType(o.id,t.date)),e.R7$(),e.JRh(i.getAttendanceType(o.id,t.date))}}function vn(n,s){1&n&&(e.j41(0,"span",24),e.EFF(1,"NA"),e.k0s())}function yn(n,s){if(1&n&&(e.j41(0,"td"),e.DNE(1,Fn,2,2,"span",23)(2,vn,2,0,"span",24),e.k0s()),2&n){const t=s.$implicit,o=e.XpG(3);e.R7$(),e.vxM(o.compareDate(t.date,o.today.toString())?1:2)}}function kn(n,s){if(1&n&&(e.j41(0,"tr")(1,"td",21),e.nrm(2,"p-avatar",22),e.EFF(3),e.k0s(),e.DNE(4,yn,3,1,"td",19),e.k0s()),2&n){const t=s.$implicit,o=s.columns,i=e.XpG(2);e.R7$(2),e.Y8G("image",i.BASEURL+"/"+t.profile_pic),e.R7$(),e.SpI(" ",t.full_name," "),e.R7$(),e.Y8G("ngForOf",o)}}function Sn(n,s){if(1&n&&(e.j41(0,"section")(1,"p-table",15),e.DNE(2,Cn,4,1,"ng-template",16)(3,kn,5,3,"ng-template",17),e.k0s()()),2&n){const t=e.XpG();e.R7$(),e.Y8G("columns",t.cols)("value",t.studentList)("scrollable",!0)("tableStyle",e.lJ4(4,gn))}}function jn(n,s){1&n&&(e.j41(0,"p-card")(1,"h3"),e.EFF(2,"Please select Class & Section Form Attendance view."),e.k0s()())}let Tn=(()=>{class n{constructor(t,o,i,r,l,p,C){this.fb=t,this._sharedAPI=o,this._dialog=i,this._datepipe=r,this._userAPI=l,this._appService=p,this._toast=C,this.totalDays=0,this.BASEURL=G.c.apiURL,this.year=2025,this.cols=[],this.studentList=[],this.currentdate=new Date,this.attendenceList=[],this.today=new Date,this.month=0,this.school_id=sessionStorage.getItem("school_id")||"",this.classList=[],this.sectionList=[],this.isSelected=!1,this.monthList=[{name:"January",code:"1"},{name:"February",code:"2"},{name:"March",code:"3"},{name:"April",code:"4"},{name:"May",code:"5"},{name:"June",code:"6"},{name:"July",code:"7"},{name:"August",code:"8"},{name:"September",code:"9"},{name:"Octuber",code:"10"},{name:"November",code:"11"},{name:"December",code:"12"}],this.$loading=this._appService.loader$,this.month=this.currentdate.getMonth()+1,this.attdFrm=this.fb.group({month:this.month,class_id:["",[a.k0.required]],section_id:["",[a.k0.required]],school_id:sessionStorage.getItem("school_id")||"",student_id:[""],fin_year:["2023-2024"]})}ngOnInit(){this.attdFrm.get("month")?.setValue(this.month),this.year=this.today.getFullYear(),this.makeColumns(),this.getStudentData(this.attdFrm.value),this.loadClass(),this.loadSection(this.attdFrm.value.class_id)}makeColumns(){this.cols=[],this.totalDays=this.getDaysInMonth(this.year,this.month);for(let t=1;t<=this.totalDays;t++)this.cols.push({date:`${this.year}-${this.month}-${t}`,type:0})}getDaysInMonth(t,o){return new Date(t,o,0).getDate()}getStudentData(t){this._appService.loader$.next(!0),this._userAPI.getStudentByclass(t).subscribe(o=>{this.studentList=o.results,this.getAttendenceList()})}getAttendenceList(){this._sharedAPI.getattendanceByClass(this.attdFrm.value).subscribe(t=>{this.attendenceList=t.results,this._appService.loader$.next(!1)})}futureDateCheck(t){return t>new Date}createAttendence(){this.attendanceRef=this._dialog.open(fn,{header:"Create Attendance",width:"500px",height:"auto",data:{}}),this.attendanceRef.onClose.subscribe(t=>{t&&(t.date=this._datepipe.transform(t.date,"yyyy-MM-dd"),this._sharedAPI.createAttendanceByClass(t).subscribe(o=>{console.log(o),this.getAttendenceList(),this._toast.add({severity:"success",summary:"Success",detail:"Attendance created successfully"})}))})}compareDate(t,o){let i=new Date(o);return new Date(t)<=i}formateDate(t){return this._datepipe.transform(t,"yyyy-MM-dd")||""}getAttendanceType(t,o){let i="NA";return this.attendenceList.forEach(r=>{r.student_id==t&&this.dateEqual(r.date,o)&&(i=this.getAttdType(r?.attd_type))}),i}loadClass(){this._userAPI.getClassList(this.school_id).subscribe(t=>{this.classList=t.results})}loadSection(t){this._userAPI.sectionByClass(this.school_id,t).subscribe(o=>{this.sectionList=o.results})}searchAttendence(t){t.valid&&(this.month=this.attdFrm.get("month")?.value,this.isSelected=!0,this.makeColumns(),this.getStudentData(this.attdFrm.value),this.loadClass(),this.loadSection(this.attdFrm.value.class_id))}dateEqual(t,o){let i=new Date(t),r=i.getDate(),l=i.getMonth(),p=new Date(this.formateDate(o)),C=p.getDate();return p.getMonth()+1==l+1&&C==r}getAttdType(t){let o="--";switch(t=parseInt(t.toString())){case 1:default:o="P";break;case 2:o="A";break;case 3:o="L";break;case 4:o="H"}return o}static#e=this.\u0275fac=function(o){return new(o||n)(e.rXU(a.ok),e.rXU(v.d),e.rXU(g.o3),e.rXU(c.vh),e.rXU(k.F),e.rXU(y.u),e.rXU(u.bg))};static#t=this.\u0275cmp=e.VBU({type:n,selectors:[["app-attendence-table"]],standalone:!0,features:[e.Jv_([c.vh,u.bg]),e.aNF],decls:29,vars:18,consts:[[1,"attendence-header","mb-3"],[1,"row"],[1,"col-md-6"],[3,"title","icon"],[1,"col-md-6","justify-content-end","d-flex"],["severity","primary","label","Create Attendence","icon","pi pi-plus",3,"click"],[1,"row",3,"formGroup"],["optionValue","code","placeholder","Select Month","id","month","optionLabel","name","formControlName","month",3,"options"],["for","month"],["optionValue","id","id","class","placeholder","Select Class","formControlName","class_id","optionLabel","name",3,"ngModelChange","options"],["for","class"],["formControlName","section_id","defaultLabel","name","optionLabel","name","optionValue","id","id","section",3,"options","showClear"],["for","section"],["label","Search","icon","pi pi-search",3,"click"],[4,"ngIf"],["scrollHeight","90vh",3,"columns","value","scrollable","tableStyle"],["pTemplate","header"],["pTemplate","body"],["pFrozenColumn",""],[4,"ngFor","ngForOf"],[1,"date-title"],["pFrozenColumn","",2,"white-space","nowrap"],[3,"image"],[1,"attdtype",3,"ngClass"],[2,"font-style","italic","opacity","0.2"]],template:function(o,i){1&o&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2),e.nrm(3,"app-inner-page-title",3),e.k0s(),e.j41(4,"div",4)(5,"p-button",5),e.bIt("click",function(){return i.createAttendence()}),e.k0s()()()(),e.j41(6,"p-card")(7,"form",6)(8,"p-floatLabel"),e.nrm(9,"p-dropdown",7),e.j41(10,"label",8),e.EFF(11,"Month"),e.k0s()(),e.EFF(12," \xa0\xa0 "),e.j41(13,"p-floatLabel")(14,"p-dropdown",9),e.bIt("ngModelChange",function(l){return i.loadSection(l)}),e.k0s(),e.j41(15,"label",10),e.EFF(16,"Class"),e.k0s()(),e.EFF(17," \xa0\xa0 "),e.j41(18,"p-floatLabel"),e.nrm(19,"p-dropdown",11),e.j41(20,"label",12),e.EFF(21,"Section"),e.k0s()(),e.EFF(22,"\xa0\xa0 "),e.j41(23,"p-button",13),e.bIt("click",function(){return i.searchAttendence(i.attdFrm)}),e.k0s()()(),e.nrm(24,"br")(25,"br"),e.DNE(26,Sn,4,5,"section",14)(27,jn,3,0,"p-card",14),e.nrm(28,"p-toast")),2&o&&(e.R7$(3),e.Y8G("title","Attendence")("icon","pi pi-id-card"),e.R7$(4),e.Y8G("formGroup",i.attdFrm),e.R7$(2),e.Aen(e.lJ4(15,N)),e.Y8G("options",i.monthList),e.R7$(5),e.Aen(e.lJ4(16,N)),e.Y8G("options",i.classList),e.R7$(5),e.Aen(e.lJ4(17,N)),e.Y8G("options",i.sectionList)("showClear",!0),e.R7$(7),e.Y8G("ngIf",i.isSelected),e.R7$(),e.Y8G("ngIf",!i.isSelected))},dependencies:[c.MD,c.YU,c.Sq,c.bT,c.vh,S.MB,S.y8,u.Ei,I.p,J.A,W,f.f,f.V,F.D,F.Z,L.m,L.e,h.kr,h.ms,_.bG,_.XI,_.du,m.tm,m.$n,T.rO,a.YN,a.qT,a.BC,a.cb,a.X1,a.j4,a.JD],styles:[".attendence-header[_ngcontent-%COMP%]{justify-content:space-between}th[_ngcontent-%COMP%]{position:relative}th[_ngcontent-%COMP%]   .date-title[_ngcontent-%COMP%]{transform:rotate(290deg);position:absolute;left:0;white-space:nowrap;top:16px}.attdtype[_ngcontent-%COMP%]{font-style:italic}.attdtype.P[_ngcontent-%COMP%]{color:#00f}.attdtype.A[_ngcontent-%COMP%]{color:red}.attdtype.L[_ngcontent-%COMP%]{color:green}.attdtype.H[_ngcontent-%COMP%]{color:#333;opacity:.5}"]})}return n})();var Mn=d(6481);const In=()=>({"min-height":"40vh"});function En(n,s){if(1&n&&(e.j41(0,"span",21),e.nrm(1,"p-checkbox",22),e.j41(2,"label",23),e.EFF(3),e.nI1(4,"uppercase"),e.k0s()()),2&n){const t=s.$implicit;e.R7$(),e.Y8G("value",t)("inputId",t),e.R7$(),e.FS9("for",t),e.R7$(),e.SpI("\xa0",e.bMT(4,4,t),"")}}let Ln=(()=>{class n{constructor(t,o,i,r,l){this._fb=t,this._userAPI=o,this._sharedAPI=i,this._appAPI=r,this._dialog=l,this.school_id=sessionStorage.getItem("school_id")||"",this.uid=sessionStorage.getItem("uid")||"",this.fin_year=sessionStorage.getItem("finyear")||"",this.classList=[],this.sectionList=[],this.teacherList=[],this.subjectList=[],this.dayList=["monday","tuesday","wednesday","thursday","friday","saturday","sunday"],this.timeTableFrm=this._fb.group({id:[""],class_id:["",[a.k0.required]],section_id:["",[a.k0.required]],subject_id:["",[a.k0.required]],day:["",[a.k0.required]],start_time:["",[a.k0.required]],end_time:["",[a.k0.required]],teacher_id:["",[a.k0.required]],school_id:this.school_id,fin_year:this.fin_year,modify_by:this.uid,created_by:this.uid,created_on:[""],modify_on:[""]})}ngOnInit(){this.getClass(),this.subjectListFn()}getClass(){this._userAPI.getClassList(this.school_id).subscribe(t=>{t.results&&(this.classList=t.results)})}getSectionByclass(t){this._userAPI.sectionByClass(this.school_id,t.value).subscribe(o=>{o.results&&(this.sectionList=o.results,this.getTeacherList(),this.subjectListFn())})}getTeacherList(){this._sharedAPI.getTeachers(this.school_id).subscribe(t=>{this.teacherList=t.results})}subjectListFn(){this._userAPI.getSubjectByclassList(this.school_id,this.timeTableFrm.get("class_id")?.value).subscribe(t=>{t.valid&&(this.subjectList=t.results)})}createTimetable(t){t.valid&&(t.value.day=t.value.day.join(","),this._dialog.close(t.value))}static#e=this.\u0275fac=function(o){return new(o||n)(e.rXU(a.ok),e.rXU(k.F),e.rXU(v.d),e.rXU(y.u),e.rXU(g.Pw))};static#t=this.\u0275cmp=e.VBU({type:n,selectors:[["app-time-table-dialog"]],standalone:!0,features:[e.aNF],decls:54,vars:15,consts:[[1,"time-table"],[3,"submit","formGroup"],[1,"row"],[1,"col-md-6"],["optionLabel","name","optionValue","id","id","class","formControlName","class_id",3,"onChange","options"],["for","class"],[1,"text-success"],["optionLabel","name","formControlName","section_id","optionValue","id","id","section",3,"options","filter","disabled"],["for","section"],[1,"col-md-12"],["optionLabel","fname","formControlName","teacher_id","optionValue","id","id","teacher",3,"options","filter","disabled"],["for","teacher"],["formControlName","subject_id","optionValue","id","optionLabel","name","id","subject",3,"options"],["for","subject"],["inputId","start-timeonly","formControlName","start_time",3,"timeOnly"],["for","start-timeonly"],["inputId","end-timeonly","formControlName","end_time",3,"timeOnly"],["for","end-timeonly"],["class","d-flex",4,"ngFor","ngForOf"],[1,"col-md-12","text-right"],["label","Create Time-Table","icon","pi pi-plus","severity","success","type","submit"],[1,"d-flex"],["formControlName","day",3,"value","inputId"],[3,"for"]],template:function(o,i){1&o&&(e.j41(0,"section",0)(1,"form",1),e.bIt("submit",function(){return i.createTimetable(i.timeTableFrm)}),e.nrm(2,"br"),e.j41(3,"div",2)(4,"div",3)(5,"p-floatLabel")(6,"p-dropdown",4),e.bIt("onChange",function(l){return i.getSectionByclass(l)}),e.k0s(),e.j41(7,"label",5),e.EFF(8,"Class"),e.k0s(),e.j41(9,"small",6),e.EFF(10,"Step 1: Select class first."),e.k0s()()(),e.j41(11,"div",3)(12,"p-floatLabel"),e.nrm(13,"p-multiSelect",7),e.j41(14,"label",8),e.EFF(15,"Section"),e.k0s(),e.j41(16,"small",6),e.EFF(17,"Step 2: Select Section."),e.k0s()()(),e.j41(18,"div",9),e.nrm(19,"br"),e.j41(20,"p-floatLabel"),e.nrm(21,"p-dropdown",10),e.j41(22,"label",11),e.EFF(23,"Select Teacher"),e.k0s(),e.j41(24,"small",6),e.EFF(25,"Step 3: Select teacher staff."),e.k0s()(),e.nrm(26,"br"),e.k0s(),e.j41(27,"div",9),e.nrm(28,"br"),e.j41(29,"p-floatLabel"),e.nrm(30,"p-dropdown",12),e.j41(31,"label",13),e.EFF(32,"Subject"),e.k0s(),e.j41(33,"small",6),e.EFF(34,"Step 4: Select Subject first."),e.k0s()(),e.nrm(35,"br"),e.k0s(),e.j41(36,"div",3)(37,"p-floatLabel"),e.nrm(38,"p-calendar",14),e.j41(39,"label",15),e.EFF(40,"Start Time"),e.k0s()()(),e.j41(41,"div",3)(42,"p-floatLabel"),e.nrm(43,"p-calendar",16),e.j41(44,"label",17),e.EFF(45,"Start Time"),e.k0s()()(),e.j41(46,"div",9),e.nrm(47,"br"),e.DNE(48,En,5,6,"span",18),e.k0s(),e.j41(49,"div",19),e.nrm(50,"br")(51,"br")(52,"br")(53,"p-button",20),e.k0s()()()()),2&o&&(e.Aen(e.lJ4(14,In)),e.R7$(),e.Y8G("formGroup",i.timeTableFrm),e.R7$(5),e.Y8G("options",i.classList),e.R7$(7),e.Y8G("options",i.sectionList)("filter",!1)("disabled",0==i.sectionList.length),e.R7$(8),e.Y8G("options",i.teacherList)("filter",!1)("disabled",0==i.teacherList.length),e.R7$(9),e.Y8G("options",i.subjectList),e.R7$(8),e.Y8G("timeOnly",!0),e.R7$(5),e.Y8G("timeOnly",!0),e.R7$(5),e.Y8G("ngForOf",i.dayList))},dependencies:[c.MD,c.Sq,c.Pc,W,Z,f.f,f.V,T.rO,T.Vv,m.$n,b.u,h.kr,h.ms,$.iV,$.KF,a.YN,a.qT,a.BC,a.cb,a.X1,a.j4,a.JD,F.D,m.tm],styles:["small[_ngcontent-%COMP%]{font-size:10px;position:absolute;bottom:0;left:10px;opacity:.5}"]})}return n})();var Pn=d(2876);const $n=()=>({width:"200px"});function Rn(n,s){if(1&n&&(e.j41(0,"p-card"),e.nrm(1,"app-time-table-page",19),e.k0s()),2&n){let t,o;const i=e.XpG();e.R7$(),e.Y8G("class_id",null==(t=i.timetablefilterfrm.get("class_id"))?null:t.value)("section_id",null==(o=i.timetablefilterfrm.get("section_id"))?null:o.value)}}const xn=[{path:"",component:A},{path:"dashboard",component:A},{path:"profile",component:tn},{path:"students",component:we},{path:"teachers",component:Xe},{path:"events",component:Be.y},{path:"parents",component:ct},{path:"stufee",component:q.X},{path:"results",component:q.X},{path:"library",component:Ue.d},{path:"fees_detils",component:gt},{path:"feeslip",component:Ct},{path:"school-manage",component:Yt},{path:"report",component:wt.l},{path:"card",component:H},{path:"report-table",component:Zt},{path:"attendence",component:Tn},{path:"time-table",component:(()=>{class n{constructor(t,o,i,r,l,p){this._fb=t,this._userAPI=o,this._dialog=i,this._datepipe=r,this._sharedAPI=l,this._toast=p,this.school_id=sessionStorage.getItem("school_id")||"",this.uid=sessionStorage.getItem("uid")||"",this.classList=[],this.sectionList=[],this.isLoading=!1,this.timetablefilterfrm=this._fb.group({class_id:[""],section_id:[""],school_id:[""],fin_year:[""]})}ngOnInit(){this.getClass()}getClass(){this._userAPI.getClassList(this.school_id).subscribe(t=>{t.results&&(this.classList=t.results)})}getsection(t){this.isLoading=!1,this._userAPI.sectionByClass(this.school_id,t.value).subscribe(o=>{o.results&&(this.sectionList=o.results)})}selectTimeTable(t){t.valid&&(this.isLoading=!0)}createTimeTable(){this._dialogRef=this._dialog.open(Ln,{header:"Create Time Table",data:{},width:"500px"}),this._dialogRef.onClose.subscribe(t=>{t.end_time=this._datepipe.transform(t.end_time,"HH:MM:00"),t.start_time=this._datepipe.transform(t.start_time,"HH:MM:00"),this._sharedAPI.createtimeTable(t).subscribe(o=>{this._toast.add(o.valid?{severity:"success",detail:"Success",icon:"pi pi-check",summary:"Time Table Submitted Successfuly!"}:{severity:"error",detail:"Error",icon:"pi pi-ban",summary:"Error in Submit."})})})}static#e=this.\u0275fac=function(o){return new(o||n)(e.rXU(a.ok),e.rXU(k.F),e.rXU(g.o3),e.rXU(c.vh),e.rXU(v.d),e.rXU(u.bg))};static#t=this.\u0275cmp=e.VBU({type:n,selectors:[["app-time-table-sheet"]],standalone:!0,features:[e.Jv_([c.vh]),e.aNF],decls:33,vars:9,consts:[[1,"time-table"],[1,"row"],[1,"col-md-6"],[3,"title","icon"],[1,"col-md-6","text-right"],["severity","primary",3,"click"],[1,"pi","pi-plus"],[1,"timetable-container"],[1,"col-md-3"],[2,"padding","6px 15px 0"],[1,"filter",3,"formGroup"],["optionLabel","name","optionValue","id","placeholder","Select Class","id","class","formControlName","class_id",3,"onChange","options"],["for","class"],["optionLabel","name","optionValue","id","id","section","placeholder","Select section","formControlName","section_id",3,"options"],["for","section"],["severity","secondary",3,"click"],[1,"pi","pi-filter"],[1,"col-md-9"],[4,"ngIf"],[3,"class_id","section_id"]],template:function(o,i){1&o&&(e.j41(0,"section",0)(1,"div",1)(2,"div",2),e.nrm(3,"app-inner-page-title",3),e.k0s(),e.j41(4,"div",4)(5,"p-button",5),e.bIt("click",function(){return i.createTimeTable()}),e.nrm(6,"i",6),e.EFF(7,"\xa0\xa0Create Time-Table"),e.k0s()()(),e.nrm(8,"br"),e.j41(9,"div",7)(10,"div",1)(11,"div",8)(12,"p-card")(13,"p-header")(14,"h5",9),e.EFF(15,"Time table Filter search"),e.k0s()(),e.j41(16,"form",10)(17,"p-floatLabel")(18,"p-dropdown",11),e.bIt("onChange",function(l){return i.getsection(l)}),e.k0s(),e.j41(19,"label",12),e.EFF(20,"Class"),e.k0s()(),e.nrm(21,"br"),e.j41(22,"p-floatLabel"),e.nrm(23,"p-dropdown",13),e.j41(24,"label",14),e.EFF(25,"Section"),e.k0s()(),e.nrm(26,"br"),e.j41(27,"p-button",15),e.bIt("click",function(){return i.selectTimeTable(i.timetablefilterfrm)}),e.nrm(28,"i",16),e.EFF(29,"\xa0Filter"),e.k0s()()()(),e.j41(30,"div",17),e.DNE(31,Rn,2,2,"p-card",18),e.k0s()()()(),e.nrm(32,"p-toast")),2&o&&(e.R7$(3),e.Y8G("title","Time-Table Management")("icon","pi pi-calendar-times"),e.R7$(2),e.Aen(e.lJ4(8,$n)),e.R7$(11),e.Y8G("formGroup",i.timetablefilterfrm),e.R7$(2),e.Y8G("options",i.classList),e.R7$(5),e.Y8G("options",i.sectionList),e.R7$(8),e.Y8G("ngIf",i.isLoading))},dependencies:[I.p,S.MB,S.y8,u.Y9,a.YN,a.qT,a.BC,a.cb,g.k_,P.P,h.kr,h.ms,a.X1,a.j4,a.JD,F.D,F.Z,c.MD,c.bT,f.f,f.V,b.u,m.tm,m.$n,Pn.Q]})}return n})()},{path:"leave-list",component:Mn.Y}];let Dn=(()=>{class n{static#e=this.\u0275fac=function(o){return new(o||n)};static#t=this.\u0275mod=e.$C({type:n});static#n=this.\u0275inj=e.G2t({imports:[j.iI.forChild(xn),j.iI]})}return n})();var On=d(8537);let Nn=(()=>{class n{static#e=this.\u0275fac=function(o){return new(o||n)};static#t=this.\u0275mod=e.$C({type:n});static#n=this.\u0275inj=e.G2t({imports:[c.MD,Dn,O.G,j.iI,O.G,a.X1,On.$$,F.D,M.fd,z.O,w.a]})}return n})()}}]);